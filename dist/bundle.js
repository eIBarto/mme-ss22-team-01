(()=>{var e={98:function(e,t){var i="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var i="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,s="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function _(e){var t=new FileReader,i=g(t);return t.readAsArrayBuffer(e),i}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var e,t,i,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,i=g(t=new FileReader),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=c(e),t=l(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},u.prototype.delete=function(e){delete this.map[c(e)]},u.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},u.prototype.set=function(e,t){this.map[c(e)]=l(t)},u.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),h(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),h(e)},n&&(u.prototype[Symbol.iterator]=u.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(e,t){var i,n,s=(t=t||{}).body;if(e instanceof I){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),f.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function T(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),s=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(s))}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})},m.call(I.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];v.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,i){return new Promise((function(n,r){var o=new I(e,i);if(o.signal&&o.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function d(){a.abort()}a.onload=function(){var e,t,i={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),n=i.shift().trim();if(n){var s=i.join(":").trim();t.append(n,s)}})),t)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var s="response"in a?a.response:a.responseText;n(new v(s,i))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&s&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",d),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",d)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=u,e.Request=I,e.Response=v),t.Headers=u,t.Request=I,t.Response=v,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},514:e=>{e.exports=window.FormData}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{"use strict";i(514);var e=i(98);function t(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{d(n.next(e))}catch(e){r(e)}}function a(e){try{d(n.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}d((n=n.apply(e,t||[])).next())}))}class n{constructor(e){this.client=e}static flatten(e,t=""){let i={};for(const n in e){let s=e[n],r=t?`${t}[${n}]`:n;Array.isArray(s)?i=Object.assign(i,this.flatten(s,r)):i[r]=s}return i}}n.CHUNK_SIZE=5242880;class s{}s.equal=(e,t)=>s.addQuery(e,"equal",t),s.notEqual=(e,t)=>s.addQuery(e,"notEqual",t),s.lesser=(e,t)=>s.addQuery(e,"lesser",t),s.lesserEqual=(e,t)=>s.addQuery(e,"lesserEqual",t),s.greater=(e,t)=>s.addQuery(e,"greater",t),s.greaterEqual=(e,t)=>s.addQuery(e,"greaterEqual",t),s.search=(e,t)=>s.addQuery(e,"search",t),s.addQuery=(e,t,i)=>i instanceof Array?`${e}.${t}(${i.map((e=>s.parseValues(e))).join(",")})`:`${e}.${t}(${s.parseValues(i)})`,s.parseValues=e=>"string"==typeof e||e instanceof String?`"${e}"`:`${e}`;class r extends Error{constructor(e,t=0,i="",n=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=i,this.response=n}}class o{constructor(){this.config={endpoint:"https://HOSTNAME/v1",endpointRealtime:"",project:"",jwt:"",locale:""},this.headers={"x-sdk-version":"appwrite:web:9.0.1","X-Appwrite-Response-Format":"0.15.0"},this.realtime={socket:void 0,timeout:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=null===window||void 0===window?void 0:window.setTimeout((()=>{this.realtime.createSocket()}),50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createSocket:()=>{var e,t;if(this.realtime.channels.size<1)return;const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach((e=>{i.append("channels[]",e)}));const n=this.config.endpointRealtime+"/realtime?"+i.toString();(n!==this.realtime.url||!this.realtime.socket||(null===(e=this.realtime.socket)||void 0===e?void 0:e.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&(null===(t=this.realtime.socket)||void 0===t?void 0:t.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=n,this.realtime.socket=new WebSocket(n),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",(e=>{this.realtime.reconnectAttempts=0})),this.realtime.socket.addEventListener("close",(e=>{var t,i,n;if(!this.realtime.reconnect||"error"===(null===(i=null===(t=this.realtime)||void 0===t?void 0:t.lastMessage)||void 0===i?void 0:i.type)&&1008===(null===(n=this.realtime)||void 0===n?void 0:n.lastMessage.data).code)return void(this.realtime.reconnect=!0);const s=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${s/1e3} seconds.`,e.reason),setTimeout((()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()}),s)})))},onMessage:e=>{var t,i;try{const n=JSON.parse(e.data);switch(this.realtime.lastMessage=n,n.type){case"connected":const e=JSON.parse(null!==(t=window.localStorage.getItem("cookieFallback"))&&void 0!==t?t:"{}"),s=null==e?void 0:e[`a_session_${this.config.project}`],r=n.data;s&&!r.user&&(null===(i=this.realtime.socket)||void 0===i||i.send(JSON.stringify({type:"authentication",data:{session:s}})));break;case"event":let o=n.data;if(null==o?void 0:o.channels){if(!o.channels.some((e=>this.realtime.channels.has(e))))return;this.realtime.subscriptions.forEach((e=>{o.channels.some((t=>e.channels.includes(t)))&&setTimeout((()=>e.callback(o)))}))}break;case"error":throw n.data}}catch(e){console.error(e)}},cleanUp:e=>{this.realtime.channels.forEach((t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some((([e,i])=>i.channels.includes(t)))||this.realtime.channels.delete(t))}))}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}subscribe(e,t){let i="string"==typeof e?[e]:e;i.forEach((e=>this.realtime.channels.add(e)));const n=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(n,{channels:i,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(n),this.realtime.cleanUp(i),this.realtime.connect()}}call(i,s,o={},a={}){var d,c;return t(this,void 0,void 0,(function*(){i=i.toUpperCase(),o=Object.assign({},this.headers,o);let t={method:i,headers:o,credentials:"include"};if("undefined"!=typeof window&&window.localStorage&&(o["X-Fallback-Cookies"]=null!==(d=window.localStorage.getItem("cookieFallback"))&&void 0!==d?d:""),"GET"===i)for(const[e,t]of Object.entries(n.flatten(a)))s.searchParams.append(e,t);else switch(o["content-type"]){case"application/json":t.body=JSON.stringify(a);break;case"multipart/form-data":let e=new FormData;for(const t in a)Array.isArray(a[t])?a[t].forEach((i=>{e.append(t+"[]",i)})):e.append(t,a[t]);t.body=e,delete o["content-type"]}try{let i=null;const n=yield(0,e.fetch)(s.toString(),t);if(i=(null===(c=n.headers.get("content-type"))||void 0===c?void 0:c.includes("application/json"))?yield n.json():{message:yield n.text()},400<=n.status)throw new r(null==i?void 0:i.message,n.status,null==i?void 0:i.type,i);const o=n.headers.get("X-Fallback-Cookies");return"undefined"!=typeof window&&window.localStorage&&o&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",o)),i}catch(e){if(e instanceof r)throw e;throw new r(e.message)}}))}}class a extends n{get(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account");return yield this.client.call("get",e,{"content-type":"application/json"},{})}))}create(e,i,n,s){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "email"');if(void 0===n)throw new r('Missing required parameter: "password"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.email=i),void 0!==n&&(t.password=n),void 0!==s&&(t.name=s);const o=new URL(this.client.config.endpoint+"/account");return yield this.client.call("post",o,{"content-type":"application/json"},t)}))}updateEmail(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "email"');if(void 0===i)throw new r('Missing required parameter: "password"');let t={};void 0!==e&&(t.email=e),void 0!==i&&(t.password=i);const n=new URL(this.client.config.endpoint+"/account/email");return yield this.client.call("patch",n,{"content-type":"application/json"},t)}))}createJWT(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/jwt");return yield this.client.call("post",e,{"content-type":"application/json"},{})}))}getLogs(e,i){return t(this,void 0,void 0,(function*(){let t={};void 0!==e&&(t.limit=e),void 0!==i&&(t.offset=i);const n=new URL(this.client.config.endpoint+"/account/logs");return yield this.client.call("get",n,{"content-type":"application/json"},t)}))}updateName(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "name"');let t={};void 0!==e&&(t.name=e);const i=new URL(this.client.config.endpoint+"/account/name");return yield this.client.call("patch",i,{"content-type":"application/json"},t)}))}updatePassword(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "password"');let t={};void 0!==e&&(t.password=e),void 0!==i&&(t.oldPassword=i);const n=new URL(this.client.config.endpoint+"/account/password");return yield this.client.call("patch",n,{"content-type":"application/json"},t)}))}updatePhone(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "number"');if(void 0===i)throw new r('Missing required parameter: "password"');let t={};void 0!==e&&(t.number=e),void 0!==i&&(t.password=i);const n=new URL(this.client.config.endpoint+"/account/phone");return yield this.client.call("patch",n,{"content-type":"application/json"},t)}))}getPrefs(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/prefs");return yield this.client.call("get",e,{"content-type":"application/json"},{})}))}updatePrefs(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "prefs"');let t={};void 0!==e&&(t.prefs=e);const i=new URL(this.client.config.endpoint+"/account/prefs");return yield this.client.call("patch",i,{"content-type":"application/json"},t)}))}createRecovery(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "email"');if(void 0===i)throw new r('Missing required parameter: "url"');let t={};void 0!==e&&(t.email=e),void 0!==i&&(t.url=i);const n=new URL(this.client.config.endpoint+"/account/recovery");return yield this.client.call("post",n,{"content-type":"application/json"},t)}))}updateRecovery(e,i,n,s){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "secret"');if(void 0===n)throw new r('Missing required parameter: "password"');if(void 0===s)throw new r('Missing required parameter: "passwordAgain"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.secret=i),void 0!==n&&(t.password=n),void 0!==s&&(t.passwordAgain=s);const o=new URL(this.client.config.endpoint+"/account/recovery");return yield this.client.call("put",o,{"content-type":"application/json"},t)}))}getSessions(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/sessions");return yield this.client.call("get",e,{"content-type":"application/json"},{})}))}deleteSessions(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/sessions");return yield this.client.call("delete",e,{"content-type":"application/json"},{})}))}createAnonymousSession(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/sessions/anonymous");return yield this.client.call("post",e,{"content-type":"application/json"},{})}))}createEmailSession(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "email"');if(void 0===i)throw new r('Missing required parameter: "password"');let t={};void 0!==e&&(t.email=e),void 0!==i&&(t.password=i);const n=new URL(this.client.config.endpoint+"/account/sessions/email");return yield this.client.call("post",n,{"content-type":"application/json"},t)}))}createMagicURLSession(e,i,n){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "email"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.email=i),void 0!==n&&(t.url=n);const s=new URL(this.client.config.endpoint+"/account/sessions/magic-url");return yield this.client.call("post",s,{"content-type":"application/json"},t)}))}updateMagicURLSession(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "secret"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.secret=i);const n=new URL(this.client.config.endpoint+"/account/sessions/magic-url");return yield this.client.call("put",n,{"content-type":"application/json"},t)}))}createOAuth2Session(e,t,i,s){if(void 0===e)throw new r('Missing required parameter: "provider"');let o="/account/sessions/oauth2/{provider}".replace("{provider}",e),a={};void 0!==t&&(a.success=t),void 0!==i&&(a.failure=i),void 0!==s&&(a.scopes=s);const d=new URL(this.client.config.endpoint+o);a.project=this.client.config.project;for(const[e,t]of Object.entries(n.flatten(a)))d.searchParams.append(e,t);if("undefined"==typeof window||!(null===window||void 0===window?void 0:window.location))return d;window.location.href=d.toString()}createPhoneSession(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "number"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.number=i);const n=new URL(this.client.config.endpoint+"/account/sessions/phone");return yield this.client.call("post",n,{"content-type":"application/json"},t)}))}updatePhoneSession(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "secret"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.secret=i);const n=new URL(this.client.config.endpoint+"/account/sessions/phone");return yield this.client.call("put",n,{"content-type":"application/json"},t)}))}getSession(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("get",i,{"content-type":"application/json"},{})}))}updateSession(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},{})}))}deleteSession(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",i,{"content-type":"application/json"},{})}))}updateStatus(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/status");return yield this.client.call("patch",e,{"content-type":"application/json"},{})}))}createVerification(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "url"');let t={};void 0!==e&&(t.url=e);const i=new URL(this.client.config.endpoint+"/account/verification");return yield this.client.call("post",i,{"content-type":"application/json"},t)}))}updateVerification(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "secret"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.secret=i);const n=new URL(this.client.config.endpoint+"/account/verification");return yield this.client.call("put",n,{"content-type":"application/json"},t)}))}createPhoneVerification(){return t(this,void 0,void 0,(function*(){const e=new URL(this.client.config.endpoint+"/account/verification/phone");return yield this.client.call("post",e,{"content-type":"application/json"},{})}))}updatePhoneVerification(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "userId"');if(void 0===i)throw new r('Missing required parameter: "secret"');let t={};void 0!==e&&(t.userId=e),void 0!==i&&(t.secret=i);const n=new URL(this.client.config.endpoint+"/account/verification/phone");return yield this.client.call("put",n,{"content-type":"application/json"},t)}))}}class d extends n{constructor(e,t){super(e),this.databaseId=t}setDatabaseId(e){this.databaseId=e}getDatabaseId(){return this.databaseId}listDocuments(e,i,n,s,o,a,d,c){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "collectionId"');let t="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",this.databaseId).replace("{collectionId}",e),l={};void 0!==i&&(l.queries=i),void 0!==n&&(l.limit=n),void 0!==s&&(l.offset=s),void 0!==o&&(l.cursor=o),void 0!==a&&(l.cursorDirection=a),void 0!==d&&(l.orderAttributes=d),void 0!==c&&(l.orderTypes=c);const h=new URL(this.client.config.endpoint+t);return yield this.client.call("get",h,{"content-type":"application/json"},l)}))}createDocument(e,i,n,s,o){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "collectionId"');if(void 0===i)throw new r('Missing required parameter: "documentId"');if(void 0===n)throw new r('Missing required parameter: "data"');let t="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",this.databaseId).replace("{collectionId}",e),a={};void 0!==i&&(a.documentId=i),void 0!==n&&(a.data=n),void 0!==s&&(a.read=s),void 0!==o&&(a.write=o);const d=new URL(this.client.config.endpoint+t);return yield this.client.call("post",d,{"content-type":"application/json"},a)}))}getDocument(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "collectionId"');if(void 0===i)throw new r('Missing required parameter: "documentId"');let t="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",this.databaseId).replace("{collectionId}",e).replace("{documentId}",i);const n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},{})}))}updateDocument(e,i,n,s,o){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "collectionId"');if(void 0===i)throw new r('Missing required parameter: "documentId"');let t="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",this.databaseId).replace("{collectionId}",e).replace("{documentId}",i),a={};void 0!==n&&(a.data=n),void 0!==s&&(a.read=s),void 0!==o&&(a.write=o);const d=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",d,{"content-type":"application/json"},a)}))}deleteDocument(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "collectionId"');if(void 0===i)throw new r('Missing required parameter: "documentId"');let t="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",this.databaseId).replace("{collectionId}",e).replace("{documentId}",i);const n=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",n,{"content-type":"application/json"},{})}))}}class c extends n{list(e,i,n,s,r,o){return t(this,void 0,void 0,(function*(){let t={};void 0!==e&&(t.search=e),void 0!==i&&(t.limit=i),void 0!==n&&(t.offset=n),void 0!==s&&(t.cursor=s),void 0!==r&&(t.cursorDirection=r),void 0!==o&&(t.orderType=o);const a=new URL(this.client.config.endpoint+"/teams");return yield this.client.call("get",a,{"content-type":"application/json"},t)}))}create(e,i,n){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "name"');let t={};void 0!==e&&(t.teamId=e),void 0!==i&&(t.name=i),void 0!==n&&(t.roles=n);const s=new URL(this.client.config.endpoint+"/teams");return yield this.client.call("post",s,{"content-type":"application/json"},t)}))}get(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');let t="/teams/{teamId}".replace("{teamId}",e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("get",i,{"content-type":"application/json"},{})}))}update(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "name"');let t="/teams/{teamId}".replace("{teamId}",e),n={};void 0!==i&&(n.name=i);const s=new URL(this.client.config.endpoint+t);return yield this.client.call("put",s,{"content-type":"application/json"},n)}))}delete(e){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');let t="/teams/{teamId}".replace("{teamId}",e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",i,{"content-type":"application/json"},{})}))}getMemberships(e,i,n,s,o,a,d){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');let t="/teams/{teamId}/memberships".replace("{teamId}",e),c={};void 0!==i&&(c.search=i),void 0!==n&&(c.limit=n),void 0!==s&&(c.offset=s),void 0!==o&&(c.cursor=o),void 0!==a&&(c.cursorDirection=a),void 0!==d&&(c.orderType=d);const l=new URL(this.client.config.endpoint+t);return yield this.client.call("get",l,{"content-type":"application/json"},c)}))}createMembership(e,i,n,s,o){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "email"');if(void 0===n)throw new r('Missing required parameter: "roles"');if(void 0===s)throw new r('Missing required parameter: "url"');let t="/teams/{teamId}/memberships".replace("{teamId}",e),a={};void 0!==i&&(a.email=i),void 0!==n&&(a.roles=n),void 0!==s&&(a.url=s),void 0!==o&&(a.name=o);const d=new URL(this.client.config.endpoint+t);return yield this.client.call("post",d,{"content-type":"application/json"},a)}))}getMembership(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "membershipId"');let t="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",i);const n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},{})}))}updateMembershipRoles(e,i,n){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "membershipId"');if(void 0===n)throw new r('Missing required parameter: "roles"');let t="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",i),s={};void 0!==n&&(s.roles=n);const o=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",o,{"content-type":"application/json"},s)}))}deleteMembership(e,i){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "membershipId"');let t="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",i);const n=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",n,{"content-type":"application/json"},{})}))}updateMembershipStatus(e,i,n,s){return t(this,void 0,void 0,(function*(){if(void 0===e)throw new r('Missing required parameter: "teamId"');if(void 0===i)throw new r('Missing required parameter: "membershipId"');if(void 0===n)throw new r('Missing required parameter: "userId"');if(void 0===s)throw new r('Missing required parameter: "secret"');let t="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",i),o={};void 0!==n&&(o.userId=n),void 0!==s&&(o.secret=s);const a=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",a,{"content-type":"application/json"},o)}))}}class l{static get UNIQUE_ID(){return"unique()"}static get DATABASE_SHARED_ID(){return"6303a7f5ae6470c89176"}static get DATABASE_SHARED_COLLECTION_PREVIEW_ID(){return"6303a800e31a51463d4e"}static get DATABASE_SHARED_COLLECTION_CHALLENGES_ID(){return"630ba3012294963e2eeb"}static get DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID(){return"630cb593eb653313d7d4"}static get DATABASE_SHARED_COLLECTION_MESSAGES_ID(){return"6303a8bddd2b9d43cb9e"}static get ENDPOINT_URI(){return"https://appwrite.software-engineering.education/v1"}static get PROJECT_ID(){return"62f0c619418bdbe12e04"}static get APPLICATION_URL(){return"https://begreen.software-engineering.education"}}class h{static _sharedInstance;static get sharedInstance(){return void 0===h._sharedInstance&&(h._sharedInstance=new h),h._sharedInstance}get client(){return this._client}constructor(){this._createClient()}_createClient(){const e=new o;e.setEndpoint(l.ENDPOINT_URI).setProject(l.PROJECT_ID),this._client=e}}class u{constructor(e,t){this.type=e,this.data=t,Object.freeze(this)}}const p=class{constructor(){this.listener={}}addEventListener(e,t){void 0===this.listener[e]&&(this.listener[e]=[]),this.listener[e].push(t)}notifyAll(e){if(void 0!==this.listener[e.type])for(let t=0;t<this.listener[e.type].length;t++)this.listener[e.type][t](e)}};class g extends p{static get APPWRITEAUTHENTICATION_AUTHENTICATED_NOTIFICATION_TYPE(){return"authenticated"}static get APPWRITEAUTHENTICATION_DEAUTHENTICATED_NOTIFICATION_TYPE(){return"deauthenticated"}static _sharedInstance;static get sharedInstance(){return void 0===g._sharedInstance&&(g._sharedInstance=new g),g._sharedInstance}get account(){return this._account}constructor(){super(),this._createAccount()}async prepare(){const e=this.account;try{await e.get(),console.log("session active")}catch(e){401==e.code&&console.log("no session active | not logged in")}}get user(){return this._user}get session(){return this._session}get isAuthenticated(){return void 0!==this.user&&void 0!==this.session}_createAccount(){const e=h.sharedInstance.client;this._account=new a(e)}async register(e,t,i){const n=await this.account.create("unique()",e,t,i);return await this.login(e,t),n}async login(e,t){await this.logout(!1);const i=this.account;this._session=await i.createEmailSession(e,t);const n=await i.get();return this._user=n,this._didAuthenticate(),n}async logout(e=!0){const t=this.session;void 0!==t&&await this.account.deleteSession(t.$id),this._user=void 0,this._session=void 0,!0===e&&this._didDeauthenticate()}_didAuthenticate(){const e=new Event(g.APPWRITEAUTHENTICATION_AUTHENTICATED_NOTIFICATION_TYPE,this);this.notifyAll(e)}_didDeauthenticate(){const e=new Event(g.APPWRITEAUTHENTICATION_DEAUTHENTICATED_NOTIFICATION_TYPE,this);this.notifyAll(e)}}class _ extends Error{}class w extends Error{}class m{static fromStyle(e){throw new _}toStyle(){throw new _}}class f{static get Format(){return Object.freeze({hex:"(?:^|\\s+)#?(?:(?:(?<fullRed>[a-f\\d]{2})(?<fullGreen>[a-f\\d]{2})(?<fullBlue>[a-f\\d]{2})(?<fullAlpha>[a-f\\d]{2})?)|(?:(?<shortRed>[a-f\\d])(?<shortGreen>[a-f\\d])(?<shortBlue>[a-f\\d])(?<shortAlpha>[a-f\\d])?))(?:\\s+|$)",rgb:"(?:^|\\s+)rgba?\\((?<red>0|255|25[0-4]|2[0-4]\\d|1\\d\\d|0?\\d?\\d),\\s?(?<green>0|255|25[0-4]|2[0-4]\\d|1\\d\\d|0?\\d?\\d),\\s?(?<blue>0|255|25[0-4]|2[0-4]\\d|1\\d\\d|0?\\d?\\d)(?:,\\s?(?<alpha>0|0?\\.\\d|1(\\.0)?))?\\)(?:\\s+|$)"})}constructor(e,t,i,n=1){this._red=e,this._green=t,this._blue=i,this._alpha=n}get red(){return this._red}get green(){return this._green}get blue(){return this._blue}get alpha(){return this._alpha}set red(e){this._red=e}set green(e){this._green=e}set blue(e){this._blue=e}set alpha(e){this._alpha=e}toStyleRule(){const e=`${this.red}, ${this.green}, ${this.blue}`,t=this.alpha;return 1===t?`rgb(${e})`:`rgba(${e}, ${t})`}static fromHex(e){const t=new RegExp(f.Format.hex,"i").exec(e),i=new w(`Cannot parse ${e} using hex format`);if(null===t||void 0===t.groups)throw i;const n=t.groups;let s=n.shortRed,r=n.shortGreen,o=n.shortBlue,a="ff";if(void 0!==s&&void 0!==r&&void 0!==o)void 0!==n.shortAlpha&&(a=n.shortAlpha);else{if(void 0===n.fullRed||void 0===n.fullGreen||void 0===n.fullBlue)throw i;s=n.fullRed,r=n.fullGreen,o=n.fullBlue,void 0!==n.fullAlpha&&(a=n.fullAlpha)}const d=parseInt(s.padStart(2,s),16),c=parseInt(r.padStart(2,r),16),l=parseInt(o.padStart(2,o),16),h=Number(parseInt(a.padStart(2,a),16)/255);return new f(d,c,l,h)}static fromRGB(e){const t=new RegExp(f.Format.rgb,"i").exec(e);if(null===t||void 0===t.groups)throw new w(`Cannot parse ${e} using rgb(a) format`);const i=t.groups,n=parseInt(i.red),s=parseInt(i.green),r=parseInt(i.blue);let o=1;return void 0!==i.alpha&&(o=Number(i.alpha)),new f(n,s,r,o)}static fromStyleRule(e,t){let i;switch(t){case void 0:try{i=f.fromRGB(e)}catch(t){if(t instanceof w==0)throw t;i=f.fromHex(e)}break;case f.Format.hex:i=f.fromHex(e);break;case f.Format.rgb:i=f.fromRGB(e);break;default:throw new Error(`Unsupported format: ${t}`)}return i}static get white(){return new this(255,255,255)}static get black(){return new this(0,0,0)}static get red(){return new this(255,0,0)}static get blue(){return new this(0,0,255)}static get green(){return new this(0,255,0)}static get yellow(){return new this(255,255,0)}static get magenta(){return new this(255,0,255)}static get cyan(){return new this(0,255,255)}static get orange(){return new this(255,128,0)}static get aqua(){return new this(0,255,255)}static get aquamarine(){return new this(127,255,212)}static get brown(){return new this(165,42,42)}static get coral(){return new this(255,127,80)}static get crimson(){return new this(220,20,60)}static get darkBlue(){return new this(0,0,139)}static get darkGrey(){return new this(169,169,169)}static get darkGreen(){return new this(0,100,0)}static get grey(){return new this(128,128,128)}static get green(){return new this(0,128,0)}static get gold(){return new this(255,215,0)}static get indigo(){return new this(75,0,130)}static get ivory(){return new this(255,255,240)}static get khaki(){return new this(240,230,140)}static get lavender(){return new this(230,230,250)}static get lightBlue(){return new this(173,216,230)}static get lightGreen(){return new this(144,238,144)}static get lightGrey(){return new this(211,211,211)}static get lime(){return new this(0,255,0)}static get navy(){return new this(0,0,128)}static get olive(){return new this(128,128,0)}static get pink(){return new this(255,192,203)}static get purple(){return new this(128,0,128)}static get salmon(){return new this(250,128,114)}static get teal(){return new this(0,128,128)}static get turquoise(){return new this(64,224,208)}static get violet(){return new this(238,130,238)}static get transparent(){return new this(0,0,0,0)}}class I{constructor(e,t,i=f.black,n){this._offsetX=e,this._offsetY=t,this._color=i,this._blurRadius=n}get offsetX(){return this._offsetX}get offsetY(){return this._offsetY}get color(){return this._color}get blurRadius(){return this._blurRadius}toStyleRule(){const e=this.offsetX,t=this.offsetY,i=this.color,n=this.blurRadius;if(void 0===e)throw new Error("Cannot provide a style rule withou offsetX");if(void 0===t)throw new Error("Cannot provide a style rule withou offsetY");let s=`${e} ${t}`;return void 0!==n&&(s+=` ${n}`),void 0!==i&&(s=`${i.toStyleRule()} ${s}`),s}static fromStyleRule(e){if(!1===O._propertyIsSet(e))throw new Error("Cannot parse data from unset property");const t=f.fromStyleRule(e),i=O._deriveConstrains(e),n=i.length;if(n<2)throw new Error("Cannot parse shadow information");const s=i[0],r=i[1];let o;return n>2&&(o=i[2]),new I(s,r,t,o)}}class T extends I{}class v extends I{constructor(e,t,i,n,s,r=!1){super(e,t,i,n),this._spreadRadius=s,this._inset=r}get spreadRadius(){return this._spreadRadius}get inset(){return this._inset}toStyleRule(){const e=this.spreadRadius;let t=super.toStyleRule();return void 0!==e&&(t+=` ${e}`),!0===this.inset&&(t+=" inset"),t}static fromStyleRule(e){const t=I.fromStyleRule(e),i=e.includes("inset"),n=O._deriveConstrains(e);let s;return n.length>3&&(s=n[n.length-1]),new v(t.offsetX,t.offsetY,t.color,t.blurRadius,s,i)}}class E extends m{constructor(e,t,i,n){super(),this._topLeft=e,this._topRight=t,this._bottomLeft=i,this._bottomRight=n}static get unset(){return new this(void 0,void 0,void 0,void 0)}static all(e){return new this(e,e,e,e)}static topLeft(e){return new this(e,void 0,void 0,void 0)}static topRight(e){return new this(void 0,e,void 0,void 0)}static bottomLeft(e){return new this(void 0,void 0,e,void 0)}static bottomRight(e){return new this(e,void 0,void 0,e)}static bottom(e){return new this(void 0,void 0,e,e)}static top(e){return new this(e,e,void 0,void 0)}static left(e){return new this(e,void 0,e,void 0)}static right(e){return new this(void 0,e,void 0,e)}get topLeft(){return this._topLeft}get topRight(){return this._topRight}get bottomLeft(){return this._bottomLeft}get bottomRight(){return this._bottomRight}set topLeft(e){this._topLeft=e}set topRight(e){this._topRight=e}set bottomLeft(e){this._bottomLeft=e}set bottomRight(e){this._bottomRight=e}toStyle(){let e={borderRadius:""};const t=this.topLeft,i=this.topRight,n=this.bottomLeft,s=this.bottomRight;return void 0!==t&&t===i&&i===n&&n===s?e.borderRadius=t.radius:(void 0!==t&&(e.borderTopLeftRadius=t.radius),void 0!==i&&(e.borderTopRightRadius=i.radius),void 0!==n&&(e.borderBottomLeftRadius=n.radius),void 0!==s&&(e.borderBottomRightRadius=s.radius)),e}static fromStyle(e){const t=e.borderRadius;let i=E.unset;if(!0===O._propertyIsSet(t)){const e=new x(t);i=E.all(e)}const n=e.borderTopLeftRadius;!0===O._propertyIsSet(n)&&(i.topLeft=new x(n));const s=e.borderTopRightRadius;!0===O._propertyIsSet(s)&&(i.topRight=new x(s));const r=e.borderBottomLeftRadius;!0===O._propertyIsSet(r)&&(i.bottomLeft=new x(r));const o=e.borderBottomRightRadius;return!0===O._propertyIsSet(o)&&(i.bottomRight=new x(o)),i}}class x{constructor(e){this._radius=e}get radius(){return this._radius}set radius(e){this._radius=e}}class b{static get Style(){return Object.freeze({none:"none",hidden:"hidden",dotted:"dotted",dashed:"dashed",solid:"solid",double:"double",groove:"groove",ridge:"ridge",inset:"inset",outset:"outset"})}constructor(e,t=1,i=b.Style.solid){this._color=e,this._width=t,this._style=i}get color(){return this._color}set color(e){this._color=e}get style(){return this._style}set style(e){this._style=e}get width(){return this._width}set width(e){this._width=e}static get none(){return new b(void 0,void 0,b.Style.none)}}class C extends m{constructor(e,t,i,n){super(),this._top=e,this._left=t,this._right=i,this._bottom=n}static vertical(e){return new this(e,void 0,void 0,e)}static horizontal(e){return new this(void 0,e,e,void 0)}static top(e){return new this(e,void 0,void 0,void 0)}static bottom(e){return new this(void 0,void 0,void 0,e)}static left(e){return new this(void 0,e,void 0,void 0)}static right(e){return new this(void 0,void 0,e,void 0)}static axes(e,t){return new this(t,e,e,t)}static all(e){return new this(e,e,e,e)}static get unset(){return new this(void 0,void 0,void 0,void 0)}get top(){return this._top}get left(){return this._left}get right(){return this._right}get bottom(){return this._bottom}set top(e){this._top=e}set left(e){this._left=e}set right(e){this._right=e}set bottom(e){this._bottom=e}}class A extends C{static get zero(){return new this("0px","0px","0px","0px")}static fromStyle(e){const t=e.marginLeft,i=e.marginRight,n=e.marginTop,s=e.marginBottom;return new A(n,t,i,s)}toStyle(){let e={marginLeft:"",marginRight:"",marginTop:"",marginBottom:""};const t=this.left,i=this.right,n=this.top,s=this.bottom;return void 0!==t&&(e.marginLeft=t),void 0!==i&&(e.marginRight=i),void 0!==n&&(e.marginTop=n),void 0!==s&&(e.marginBottom=s),e}}class y extends A{static fromStyle(e){const t=e.paddingLeft,i=e.paddingRight,n=e.paddingTop,s=e.paddingBottom;return new y(n,t,i,s)}toStyle(){let e={paddingLeft:"",paddingRight:"",paddingTop:"",paddingBottom:""};const t=this.left,i=this.right,n=this.top,s=this.bottom;return void 0!==t&&(e.paddingLeft=t),void 0!==i&&(e.paddingRight=i),void 0!==n&&(e.paddingTop=n),void 0!==s&&(e.paddingBottom=s),e}}class S extends C{toStyle(){let e={borderColor:"",borderStyle:"",borderWidth:""};const t=this.left,i=this.right,n=this.top,s=this.bottom;if(void 0!==n&&t===i&&i===n&&n===s){const t=n.color,i=n.style,s=n.width;void 0!==t&&(e.borderColor=t.toStyleRule()),void 0!==i&&(e.borderStyle=i),void 0!==s&&(e.borderWidth=s)}else{if(void 0!==t){const i=t.color,n=t.style,s=t.width;void 0!==i&&(e.borderLeftColor=i.toStyleRule()),void 0!==n&&(e.borderLeftStyle=n),void 0!==s&&(e.borderLeftWidth=s)}if(void 0!==i){const t=i.color,n=i.style,s=i.width;void 0!==t&&(e.borderRightColor=t.toStyleRule()),void 0!==n&&(e.borderRightStyle=n),void 0!==s&&(e.borderRightWidth=s)}if(void 0!==n){const t=n.color,i=n.style,s=n.width;void 0!==t&&(e.borderTopColor=t.toStyleRule()),void 0!==i&&(e.borderTopStyle=i),void 0!==s&&(e.borderTopWidth=s)}if(void 0!==s){const t=s.color,i=s.style,n=s.width;void 0!==t&&(e.borderBottomColor=t.toStyleRule()),void 0!==i&&(e.borderBottomStyle=i),void 0!==n&&(e.borderBottomWidth=n)}}return e}static _deriveBorder(e,t,i){let n,s,r;if(!0===O._propertyIsSet(e)&&(n=f.fromStyleRule(e)),!0===O._propertyIsSet(t)&&(s=t),!0===O._propertyIsSet(i)&&(r=i),void 0!==n||void 0!==s||void 0!==r)return new b(n,s,r)}static fromStyle(e){const t=e.borderColor,i=e.borderWidth,n=e.borderStyle;let s=S.unset;const r=S._deriveBorder(t,i,n);void 0!==r&&(s=S.all(r));const o=e.borderLeftColor,a=e.borderLeftWidth,d=e.borderLeftStyle,c=S._deriveBorder(o,a,d);void 0!==c&&(s.left=c);const l=e.borderRightColor,h=e.borderRightWidth,u=e.borderRightStyle,p=S._deriveBorder(l,h,u);void 0!==p&&(s.right=p);const g=e.borderTopColor,_=e.borderTopWidth,w=e.borderTopStyle,m=S._deriveBorder(g,_,w);void 0!==m&&(s.top=m);const f=e.borderBottomColor,I=e.borderBottomWidth,T=e.borderBottomStyle,v=S._deriveBorder(f,I,T);return void 0!==v&&(s.bottom=v),s}}class O extends p{constructor(){super(),this._createNode(),this._views=[]}static get display(){return"block"}get isHidden(){return"none"===this.node.style.display}set isHidden(e){this.node.style.display=e?"none":this.constructor.display}get views(){return this._views}static get tag(){throw new _}get classList(){return this.node.classList}get id(){return this.node.id}set id(e){this.node.id=e}addViewBefore(e,t){if(this._prepareView(e),void 0===t)throw new Error("Cannot insert a view before another view without a reference view");this.node.insertBefore(e.node,t.node)}addView(e){this._prepareView(e),this.node.appendChild(e.node)}_prepareView(e){if(void 0!==e.parentView)throw new Error("Cannot add view to more than one parent view");this.views.push(e),e.parentView=this}removeView(e){const t=this.views,i=t.indexOf(e);return i>=0&&t.splice(i,1),this.node.removeChild(e.node),e.parentView=void 0,e}removeFromParentView(){const e=this.parentView;if(void 0!==e)return e.removeView(this),e}removeViews(){const e=this.views;e.splice(0,e.length).forEach((e=>this.removeView(e)))}_createNode(){const e=document.createElement(this.constructor.tag);return e.style.display=this.constructor.display,this._node=e,e}get node(){return this._node}get parentView(){return this._parentView}get isDisabled(){return this.node.disabled}set isDisabled(e){this.node.disabled=e,this.views.forEach((t=>t.isDisabled=e))}set parentView(e){this._parentView=e}static get Position(){return Object.freeze({static:"static",relative:"relative",absolute:"absolute",sticky:"sticky",fixed:"fixed"})}static get Overflow(){return Object.freeze({visible:"visible",hidden:"hidden",scroll:"scroll",automatic:"auto"})}static _propertyIsSet(e){return void 0!==e&&""!==e&&"unset"!==e}static _deriveConstrains(e){const t=new RegExp("[+-]?\\d+(?:\\.\\d+)?(?:%|vmax|vmin|vh|vw|rem|ch|ex|em|cm|mm|in|px|pt|pc)","g"),i=e.match(t);if(null===i)throw new Error("Unable to parse constraints");return i}addDOMEventListener(e,t){this.node.addEventListener(e,t)}get overflow(){const e=this.node.style.overflow,t=Object.values(O.Overflow).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported overflow: ${e}`);return t}set overflow(e){this.node.style.overflow=e}get position(){const e=this.node.style.position,t=Object.values(O.Position).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported position: ${e}`);return t}get zIndex(){return this.node.style.zIndex}set zIndex(e){this.node.style.zIndex=e}set position(e){this.node.style.position=e}get top(){return this.node.style.top}set top(e){this.node.style.top=e}get left(){return this.node.style.left}set left(e){this.node.style.left=e}get bottom(){return this.node.style.bottom}set bottom(e){this.node.style.bottom=e}get right(){return this.node.style.right}set right(e){this.node.style.right=e}get width(){return this.node.style.width}set width(e){this.node.style.width=e}get height(){return this.node.style.height}set height(e){this.node.style.height=e}get minWidth(){return this.node.style.minWidth}set minWidth(e){this.node.style.minWidth=e}get minHeight(){return this.node.style.minHeight}set minHeight(e){this.node.style.minHeight=e}get maxWidth(){return this.node.style.maxWidth}set maxWidth(e){this.node.style.maxWidth=e}get maxHeight(){return this.node.style.maxHeight}set maxHeight(e){this.node.style.maxHeight=e}get margin(){const e=this.node.style;return A.fromStyle(e)}set margin(e){void 0!==e&&Object.assign(this.node.style,e.toStyle())}get padding(){const e=this.node.style;return y.fromStyle(e)}set padding(e){void 0!==e&&Object.assign(this.node.style,e.toStyle())}get grow(){return this.node.style.flexGrow}set grow(e){this.node.style.flexGrow=e}get shrink(){return this.node.style.flexShrink}set shrink(e){this.node.style.flexShrink=e}get basis(){return this.node.style.flexBasis}set basis(e){this.node.style.flexBasis=e}get backgroundColor(){const e=this.node.style.backgroundColor;if(!0===O._propertyIsSet(e))return f.fromStyleRule(e)}set backgroundColor(e){this.node.style.backgroundColor=e.toStyleRule()}get backgroundImage(){return this.node.style.backgroundImage}set backgroundImage(e){this.node.style.backgroundImage=e}get backgroundSize(){return this.node.style.backgroundSize}set backgroundSize(e){this.node.style.backgroundSize=e}get color(){const e=this.node.style.color;if(!0===O._propertyIsSet(e))return f.fromStyleRule(e)}set color(e){this.node.style.color=e.toStyleRule()}set borders(e){void 0!==e&&Object.assign(this.node.style,e.toStyle())}get borders(){const e=this.node.style;return S.fromStyle(e)}get corners(){const e=this.node.style;return E.fromStyle(e)}set corners(e){void 0!==e&&Object.assign(this.node.style,e.toStyle())}get shadow(){const e=this.node.style;return v.fromStyleRule(e.boxShadow)}set shadow(e){void 0!==e&&(this.node.style.boxShadow=e.toStyleRule())}get filter(){const e=this.node.style;return L.fromStyle(e)}set filter(e){void 0!==e&&Object.assign(this.node.style,e.toStyle())}get gridInset(){const e=this.node.style;return N.fromStyle(e)}set gridInset(e){void 0!==e&&Object.assign(this.node.style,e.toStyle())}}class L extends m{constructor(e){super(),this._radius=e}get radius(){return this._radius}set radius(e){this._radius=e}static fromStyle(e){const t=e.filter;if(!1===O._propertyIsSet(t)||!1===t.includes("blur"))return;const i=O._deriveConstrains(t);if(1!==i.left)throw new Error(`Cannot derive gaussian blur from rule ${t}`);const n=i[0];return new L(n)}toStyle(){let e={filter:""};return e.filter=`blur(${this.radius})`,e}}class N extends C{static fromStyle(e){const t=e.gridColumnStart,i=e.gridColumnEnd,n=e.gridRowStart,s=e.gridRowEnd;return new N(n,t,i,s)}toStyle(){let e={gridColumnStart:"",gridColumnEnd:"",gridRowStart:"",gridRowEnd:""};const t=this.left,i=this.right,n=this.top,s=this.bottom;return void 0!==t&&(e.gridColumnStart=t),void 0!==i&&(e.gridColumnEnd=i),void 0!==n&&(e.gridRowStart=n),void 0!==s&&(e.gridRowEnd=s),e}}class V{constructor(e,t){this._horizontal=e,this._vertical=t}static all(e){return new this(e,e)}static get zero(){return new this("0px","0px")}static get unset(){return new this(void 0,void 0)}get horizontal(){return this._horizontal}set horizontal(e){this._horizontal=e}get vertical(){return this._vertical}set vertical(e){this._vertical=e}}class F extends O{static get display(){return"grid"}static get tag(){return"span"}get gap(){const e=this.node,t=e.style.gridColumnGap,i=e.style.gridRowGap;return new V(i,t)}set gap(e){const t=this.node;t.style.gridColumnGap=e.vertical,t.style.gridRowGap=e.horizontal}set columns(e){this.node.style.gridTemplateColumns=e}get columns(){return this.node.style.gridTemplateColumns}set rows(e){this.node.style.gridTemplateRows=e}get rows(){return this.node.style.gridTemplateRows}}class R extends O{static get Axis(){return Object.freeze({vertical:"column",horizontal:"row"})}static get Direction(){return Object.freeze({default:"",reversed:"-reverse"})}static get Wrap(){return Object.freeze({none:"nowrap",wrap:"wrap",reversed:"wrap-reverse"})}static get MainAxisAlignment(){return Object.freeze({flexStart:"flex-start",flexEnd:"flex-end",start:"start",end:"end",center:"center",spaceBetween:"space-between",spaceAround:"space-around",spaceEvenly:"space-evenly",left:"left",right:"right"})}static get CrossAxisAlignment(){return Object.freeze({stretch:"stretch",flexStart:"flex-start",flexEnd:"flex-end",center:"center",baseline:"baseline",firstBaseline:"first baseline",lastBaseline:"last baseline",start:"start",end:"end",selfStart:"self-start",selfEnd:"self-end"})}static get WrapCrossAxisAlignment(){return Object.freeze({default:"unset",flexStart:"flex-start",flexEnd:"flex-end",center:"center",spaceBetween:"space-between",spaceAround:"space-around",spaceEvenly:"space-evenly",stretch:"stretch",start:"start",end:"end",baseline:"baseline",firstBaseline:"first baseline",lastBaseline:"last baseline"})}static get CrossAxisSelfAlignment(){return Object.freeze({auto:"auto",flexStart:"flex-start",flexEnd:"flex-end",center:"center",baseline:"baseline",stretch:"stretch"})}constructor(e=R.Axis.vertical,t=R.MainAxisAlignment.flexStart,i=R.CrossAxisAlignment.stretch,n=V.unset,s=R.Direction.default,r=R.Wrap.none,o=R.WrapCrossAxisAlignment.default){super(),this.axis=e,this.direction=s,this.wrap=r,this.mainAxisAlignment=t,this.crossAxisAlignment=i,this.wrapCrossAxisAlignment=o,this.gap=n}get order(){return this.node.style.order}set order(e){this.node.style.order=e}get axis(){const e=R.Axis.vertical;return!0===this.node.style.flexDirection.startsWith(e)?e:R.Axis.horizontal}set axis(e){this.node.style.flexDirection=e}get direction(){const e=R.Direction.reversed;return!0===this.node.style.flexDirection.endsWith(e)?e:R.Direction.default}set direction(e){const t=this.node,i=R.Direction.reversed;switch(e){case R.Direction.default:t.style.flexDirection=t.style.flexDirection.replace(i,"");break;case i:this.direction!==e&&(t.style.flexDirection+=i);break;default:throw new Error(`Unsupported direction ${e}`)}}get wrap(){const e=this.node.style.flexWrap,t=Object.values(R.Wrap).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported wrap: ${e}`);return t}set wrap(e){this.node.style.flexWrap=e}get mainAxisAlignment(){const e=this.node.style.justifyContent,t=Object.values(R.MainAxisAlignment).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported main axis alignment: ${e}`);return t}set mainAxisAlignment(e){this.node.style.justifyContent=e}get crossAxisAlignment(){const e=this.node.style.alignItems,t=Object.values(R.CrossAxisAlignment).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported cross axis alignment: ${e}`);return t}set crossAxisAlignment(e){this.node.style.alignItems=e}get wrapCrossAxisAlignment(){const e=this.node.style.alignContent,t=Object.values(R.WrapCrossAxisAlignment).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported wrap cross axis alignment: ${e}`);return t}set wrapCrossAxisAlignment(e){this.node.style.alignContent=e}get crossAxisSelfAlignment(){const e=this.node.style.alignSelf,t=Object.values(R.CrossAxisSelfAlignment).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported cross self axis alignment: ${e}`);return t}set crossAxisSelfAlignment(e){this.node.style.alignSelf=e}get gap(){const e=this.node,t=e.style.columnGap,i=e.style.rowGap;return new V(i,t)}set gap(e){const t=this.node;t.style.columnGap=e.vertical,t.style.rowGap=e.horizontal}static get display(){return"flex"}static get tag(){return"span"}}class D extends O{static get WhiteSpace(){return Object.freeze({default:"normal",nowrap:"nowrap",pre:"pre",preWrap:"pre-wrap",preLine:"pre-line",breakSpaces:"break-spaces"})}static get FontWeight(){return Object.freeze({normal:"normal",bold:"bold",bolder:"bolder",lighter:"lighter",100:"100",200:"200",300:"300",400:"400",500:"500",600:"600",700:"700",800:"800",900:"900"})}static get TextAlignment(){return Object.freeze({start:"start",end:"end",left:"left",right:"right",center:"center",justify:"justify"})}static get FontFamily(){return Object.freeze({serif:"serif",sansSerif:"sans-serif",monospace:"monospace",cursive:"cursive",fantasy:"fantasy",inherit:"inherit"})}constructor(e=""){super(),this.text=e}get webkitTextSizeAdjust(){return this.node.style.webkitTextSizeAdjust}set webkitTextSizeAdjust(e){this.node.style.webkitTextSizeAdjust=e}get text(){return this.node.innerText}set text(e){this.node.innerText=e}get fontSize(){return this.node.style.fontSize}set fontSize(e){const t=e;this.node.style.fontSize=t}get fontFamily(){return this.node.style.fontFamily}set fontFamily(e){this.node.style.fontFamily=e}get fontStyle(){return this.node.style.fontStyle}set fontStyle(e){this.node.style.fontStyle=e}get whiteSpace(){const e=this.node.style.whiteSpace,t=Object.values(D.WhiteSpace).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported whiteSpace: ${e}`);return t}set whiteSpace(e){this.node.style.whiteSpace=e}get fontWeight(){const e=this.node.style.fontWeight,t=Object.values(D.FontWeight).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported fontWeight: ${e}`);return t}set fontWeight(e){this.node.style.fontWeight=e}get textAlignment(){const e=this.node.style.textAlign,t=Object.values(D.TextAlignment).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported textAlignment: ${e}`);return t}set textAlignment(e){this.node.style.textAlign=e}get textShadow(){const e=this.node.style;return T.fromStyleRule(e.textShadow)}set textShadow(e){void 0!==e&&(this.node.style.textShadow=e.toStyleRule())}static get tag(){return"span"}}class M extends D{static get tag(){return"i"}set pointerEvents(e){this.node.style.pointerEvents=e}}class B extends D{constructor(e,t){super(e),this.onChange=t,this._addListeners()}get onChange(){return this._onChange}set onChange(e){this._onChange=e}get onKeyPress(){return this._onKeyPress}set onKeyPress(e){this._onKeyPress=e}get onPaste(){return this._onPaste}set onPaste(e){this._onPaste=e}get onInput(){return this._onInput}set onInput(e){this._onInput=e}static get TEXT_FIELD_CHANGE_NOTIFICATION_TYPE(){return"change"}static get TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE(){return"keypress"}static get TEXT_FIELD_PASTE_NOTIFICATION_TYPE(){return"paste"}static get TEXT_FIELD_INPUT_NOTIFICATION_TYPE(){return"input"}static get TextInputType(){return Object.freeze({text:"text",password:"password",email:"email",search:"search",telephone:"tel",url:"url"})}get textInputType(){const e=this.node.type,t=Object.values(B.TextInputType).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported textInputType: ${e}`);return t}set textInputType(e){this.node.type=e}static get tag(){return"input"}get text(){return this.node.value}set text(e){this.node.value=e}get placeholder(){return this.node.placeholder}set placeholder(e){this.node.placeholder=e}get isFocused(){return document.activeElement===this.node}focus(){this.node.focus()}clear(){this.text=""}_onChangeWrapper(){const e=this.onChange;void 0!==e&&e();const t=new u(B.TEXT_FIELD_CHANGE_NOTIFICATION_TYPE,this);this.notifyAll(t)}_onKeyPressWrapper(){const e=this.onKeyPress;void 0!==e&&e();const t=new u(B.TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE,this);this.notifyAll(t)}_onPasteWrapper(){const e=this.onPaste;void 0!==e&&e();const t=new u(B.TEXT_FIELD_PASTE_NOTIFICATION_TYPE,this);this.notifyAll(t)}_onInputWrapper(){const e=this.onInput;void 0!==e&&e();const t=new u(B.TEXT_FIELD_INPUT_NOTIFICATION_TYPE,this);this.notifyAll(t)}_addListeners(){const e=this.node;e.addEventListener(B.TEXT_FIELD_CHANGE_NOTIFICATION_TYPE,this._onChangeWrapper.bind(this),!0),e.addEventListener(B.TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE,this._onChangeWrapper.bind(this),!0),e.addEventListener(B.TEXT_FIELD_PASTE_NOTIFICATION_TYPE,this._onChangeWrapper.bind(this),!0),e.addEventListener(B.TEXT_FIELD_INPUT_NOTIFICATION_TYPE,this._onChangeWrapper.bind(this),!0)}get readOnly(){return this.node.readonly}set readOnly(e){this.node.readonly=e}get minLength(){return this.node.minlength}set minLength(e){this.node.minlength=e}get maxLength(){return this.node.maxlength}set maxLength(e){this.node.maxlength=e}get pattern(){return this.node.pattern}set pattern(e){this.node.pattern=e}}class P extends B{static get Resize(){return Object.freeze({both:"both",horizontal:"horizontal",vertical:"vertical",none:"none"})}static get Wrap(){return Object.freeze({hard:"hard",soft:"soft",off:"off"})}static get tag(){return"textarea"}get rows(){return this.node.rows}set rows(e){this.node.rows=e}get cols(){return this.node.cols}set cols(e){this.node.cols=e}get wrap(){return this.node.wrap}set wrap(e){this.node.wrap=e}set resize(e){this.node.style.resize=e}get resize(){return this.node.style.resize}}class k extends D{static get tag(){return"p"}}class U extends O{static get tag(){return"nav"}}class H extends O{static get tag(){return"span"}}class j extends D{static get BUTTON_CLICK_NOTIFICATION_TYPE(){return"click"}static get BUTTON_MOUSE_OVER_NOTIFICATION_TYPE(){return"mouseenter"}static get BUTTON_MOUSE_OUT_NOTIFICATION_TYPE(){return"mouseleave"}constructor(e,t,i,n){super(e),this.onClick=t,this.onMouseOver=i,this.onMouseOut=n,this._addListeners()}static get tag(){return"button"}_addListeners(){const e=this.node;e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onClickWrapper.bind(this),!0),e.addEventListener(j.BUTTON_MOUSE_OUT_NOTIFICATION_TYPE,this._onMouseOutWrapper.bind(this),!0),e.addEventListener(j.BUTTON_MOUSE_OVER_NOTIFICATION_TYPE,this._onMouseOverWrapper.bind(this),!0)}_onClickWrapper(e){const t=this.onClick;void 0!==t&&t(e);const i=new u(j.BUTTON_CLICK_NOTIFICATION_TYPE,this);this.notifyAll(i)}_onMouseOutWrapper(e){const t=this.onMouseOut;void 0!==t&&t(e);const i=new u(j.BUTTON_MOUSE_OUT_NOTIFICATION_TYPE,this);this.notifyAll(i)}_onMouseOverWrapper(e){const t=this.onMouseOver;void 0!==t&&t(e);const i=new u(j.BUTTON_MOUSE_OVER_NOTIFICATION_TYPE,this);this.notifyAll(i)}get onClick(){return this._onClick}get onMouseOver(){return this._onMouseOver}get onMouseOut(){return this._onMouseOut}set onClick(e){this._onClick=e}set onMouseOver(e){this._onMouseOver=e}set onMouseOut(e){this._onMouseOut=e}}class z extends O{constructor(){super(),this._addListeners()}static get SELECT_ON_SELECTION_TYPE_NOTIFICATION(){return"select"}get options(){return this.node.options}add(e){this.options.add(e)}get selectedIndex(){return this.node.selectedIndex}get selectedOption(){const e=this.options,t=this.selectedIndex;if(!(e.length<1||t<0))return e[t]}_addListeners(){this.node.addEventListener(z.SELECT_ON_SELECTION_TYPE_NOTIFICATION,this._onSelect.bind(this),!0)}_onSelect(e){const t=new u(z.SELECT_ON_SELECTION_TYPE_NOTIFICATION,this);this.notifyAll(t)}static get tag(){return"select"}}class G extends O{static _sharedInstance;static get sharedInstance(){return void 0===G._sharedInstance&&(G._sharedInstance=new G),G._sharedInstance}_createNode(){const e=document.body;return this._node=e,e}}class Y extends p{static get CONTROLLER_STATE_CHANGE_NOTIFICATION_TYPE(){return"state"}static get State(){return Object.freeze({presented:"presented",presenting:"presenting"})}get state(){return this._state}set state(e){this.state!==e&&(this._state=e,this._onStateChange())}constructor(){super(),this._controllers=[],this._createView(),this._determineState()}get controllers(){return this._controllers}_createView(){const e=new R(R.Axis.vertical,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.stretch);return this._view=e,e}addController(e,t=this.view){if(void 0!==e.parentController)throw new Error("Cannot add controller to more than one parent controller");this.controllers.push(e),e.parentController=this,t.addView(e.view),this._determineState()}_determineState(){this.state=this.controllers.length>0?Y.State.presenting:Y.State.presented}_onStateChange(){const e=new u(Y.CONTROLLER_STATE_CHANGE_NOTIFICATION_TYPE,this);this.notifyAll(e)}removeController(e){const t=this.controllers,i=t.indexOf(e),n=e.view,s=n.parentView;return void 0!==s&&s.removeView(n),i>=0&&t.splice(i,1),e.parentController=void 0,this._determineState(),e}removeFromParentController(){const e=this.parentController;if(void 0!==e)return e.removeController(this),e}removeControllers(){const e=this.controllers;e.splice(0,e.length).forEach((e=>e.removeFromParentController()))}get parentController(){return this._parentController}set parentController(e){this._parentController=e}get view(){return this._view}}class W extends Y{constructor(){super(),this._attachView()}_attachView(){const e=this.view;G.sharedInstance.addView(e)}_createView(){const e=super._createView();return e.position=O.Position.absolute,e.left="0px",e.right="0px",e.bottom="0px",e.top="0px",e}removeFromParentController(){const e=super.removeFromParentController();return this.view.removeFromParentView(),e}}const $=i.p+"9a94ee29d0c86a63212c.jpg";class q extends Y{static get ControllerPosition(){return Object.freeze({topLeft:new N(1,1,2,2),bottomLeft:new N(2,1,2,3),right:new N(1,2,3,3)})}_createTitleView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.center,V.all("10px")),t=this._createTitleLabel();return this._titleLabel=t,e.addView(t),e}embedController(e,t){e.view.gridInset=t,e.view.corners=E.all(new x("15px")),this.addController(e,this.contentView)}get navigationView(){return this._navigationView}get titleLabel(){return this._titleLabel}get title(){return this.titleLabel.text}set title(e){this.titleLabel.text=e}get scoreLabel(){return this._scoreLabel}get score(){return parseInt(this.scoreLabel.text)}set score(e){this.scoreLabel.text=e.toString()}get iconButton(){return this._iconButton}get contact(){return this.iconButton.text}set contact(e){this.iconButton.text=e}get contentView(){return this._contentView}_createNavigationView(){const e=new U,t=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center);t.backgroundColor=f.white,t.height="75px",t.padding=y.horizontal("15px"),t.borders=S.bottom(new b(f.darkGrey,"1px")),t.shadow=new v("0px","5px",new f(0,0,0,.25),"5px","3px");const i=this._createTitleView();t.addView(i);const n=this._createInfoView();return t.addView(n),e.addView(t),e}_createContentView(){const e=new F;return e.columns="1fr 4fr",e.rows="1fr 1fr",e.gap=V.all("15px"),e.padding=y.all("15px"),e.minHeight="0",e}_createTitleLabel(){const e=new D;return e.text="BeGreen",e.color=f.darkGreen,e.fontFamily=D.FontFamily.sansSerif,e.fontWeight=D.FontWeight.bold,e.fontSize="20px",this._titleLabel=e,e}_createScoreLabel(){const e=new D;return e.textAlignment=D.TextAlignment.center,e.color=f.darkGreen,e.fontFamily=D.FontFamily.sansSerif,e.padding=y.axes("20px","10px"),e.backgroundColor=f.lightGrey,e.corners=E.all(new x("10px")),e.fontSize="22px",e}_createIconButton(){const e=new j;return e.minWidth="50px",e.minHeight="50px",e.text="N",e.textAlignment=D.TextAlignment.center,e.color=f.white,e.fontFamily=D.FontFamily.sansSerif,e.padding=y.all("15px"),e.backgroundColor=f.darkGreen,e.borders=S.all(b.none),e.corners=E.all(new x("25px")),e.fontWeight=D.FontWeight.bold,e.fontSize="17px",e}_createInfoView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.center,V.all("10px")),t=this._createScoreLabel();this._scoreLabel=t,e.addView(t);const i=this._createIconButton();return this._iconButton=i,e.addView(i),e}_createView(){const e=super._createView();e.position=O.Position.absolute,e.left="0px",e.right="0px",e.bottom="0px",e.top="0px";const t=this._createNavigationView();t.zIndex="1",this._navigationView=t,e.addView(t);const i=this._createContentView();i.grow="1",i.backgroundColor=f.darkGreen,i.backgroundSize="cover",i.backgroundImage=`url(${$})`,this._contentView=i,e.addView(i)}}class X extends Y{get titleLabel(){return this._titleLabel}get title(){return this.titleLabel.text}set title(e){this.titleLabel.text=e}get headerView(){return this._headerView}get contentView(){return this._contentView}_createTitleLabel(){const e=new D;return e.text="Title",e.color=f.darkGreen,e.fontFamily=D.FontFamily.sansSerif,e.fontSize="22px",e.fontWeight=D.FontWeight.bold,e}_createHeaderView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center,V.all("5px"));e.shrink="0",e.backgroundColor=f.white,e.padding=y.axes("15px","10px"),e.borders=S.bottom(new b(f.darkGreen,"1px"));const t=this._createTitleLabel();return this._titleLabel=t,e.addView(t),e}_createView(){const e=super._createView();e.backgroundColor=f.white,e.overflow=O.Overflow.hidden;const t=this._createHeaderView();e.addView(t),this._headerView=t;const i=this._createContentView();return this._contentView=i,e.addView(i),e}_createContentView(){return new R(R.Axis.vertical,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.stretch)}}class K extends R{static get ITEM_VIEW_SELECTED_NOTIFICATION_TYPE(){return"itemViewSelected"}constructor(e){super(R.Axis.horizontal),this.overflow=R.Overflow.hidden,this.shrink="0",this._createView(),this.data=e}set listView(e){this._listView=e}get listView(){return this._listView}get data(){return this._data}set data(e){this._data=e,this._applyData()}get contentView(){return this._contentView}get contentPadding(){return this.contentView.padding}set contentPadding(e){this.contentView.padding=e}filter(e){return!0}_createView(){const e=this._createContentView();return this.addView(e),this}_createContentView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.center,V.all("10px"));return e.grow="1",e.addDOMEventListener("click",this.didSelect.bind(this),!0),this._contentView=e,e}didSelect(){const e=new u(K.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,this);this.notifyAll(e)}_applyData(){}}class Q extends K{get nameLabel(){return this._nameLabel}get name(){return this.nameLabel.text}set name(e){this.nameLabel.text=e}get timeLabel(){return this._timeLabel}get time(){return this.timeLabel.text}set time(e){this.timeLabel.text=e}static get Origin(){return Object.freeze({self:Q.MainAxisAlignment.flexEnd,foreign:Q.MainAxisAlignment.flexStart})}set origin(e){this.mainAxisAlignment=e}get origin(){const e=this.mainAxisAlignment,t=Object.values(Q.Origin).find((t=>t===e));if(void 0===t)throw new Error(`Unsupported origin: ${e}`);return t}get textView(){return this._textView}get text(){return this.textView.text}set text(e){this.textView.text=e}constructor(e){super(e),this.contentView.borders=S.all(new b(f.darkGreen,"1px"))}_createContentView(){const e=super._createContentView();e.axis=R.Axis.vertical,e.crossAxisAlignment=R.CrossAxisAlignment.stretch,e.grow="0",e.gap=V.all("5px"),e.padding=y.all("5px"),e.backgroundColor=f.lightGrey,e.corners=E.all(new x("10px")),e.maxWidth="65%";const t=this._createInfoView();e.addView(t);const i=this._createTextView();return this._textView=i,e.addView(i),e}_createInfoView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.flexStart);e.gap=V.all("5px");const t=this._createNameLabel();e.addView(t),this._nameLabel=t;const i=this._createTimeLabel();return e.addView(i),this._timeLabel=i,e}_createNameLabel(){const e=new D;return e.fontWeight=D.FontWeight.bold,e.fontSize="12px",e.fontFamily=D.FontFamily.sansSerif,e.text="Natalie",e.color=f.black,e}_createTimeLabel(){const e=new D;return e.fontFamily=D.FontFamily.sansSerif,e.fontWeight=D.FontWeight.bold,e.text="10:00",e.fontSize="9px",e.color=f.darkGrey,e}_createTextView(){const e=new k;return e.fontFamily=D.FontFamily.sansSerif,e.fontSize="14px",e.padding=y.zero,e.margin=A.zero,e.color=f.black,e.text="Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",e}_applyData(){const e=this.data;this.time=this._formatDate(e.createdAt),this.text=e.text,this.name=e.name,this.origin=e.isForeign?Q.Origin.foreign:Q.Origin.self}_formatDate(e){let t=new Date(1e3*e),i=t.getHours(),n=t.getMinutes();return i<10&&(i="0"+i),n<10&&(n="0"+n),i+":"+n}}class J extends R{fiter(e,t){}resetFilters(){this._itemViews.forEach((e=>e.isHidden=!1))}static get ITEM_VIEW_CREATED_NOTIFICATION_TYPE(){return"itemViewCreated"}set itemViewClass(e){if(void 0!==this.itemViewClass)throw new Error("Cannot register multiple item view classes");this._itemViewClass=e}get itemViewClass(){return this._itemViewClass}constructor(e){super(R.Axis.vertical,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.stretch,V.all("5px")),this.itemViewClass=e,this._itemViews=[],this.overflow=R.Overflow.scroll}get items(){return this._itemViews.map((e=>e.data))}set items(e){this._itemViews.forEach((e=>e.removeFromParentView())),this._itemViews=[],e.forEach((e=>this._addItemView(e)))}addItem(e){this._addItemView(e)}removeItem(e){const t=this._itemViews.find((t=>t.data.id===e.id));void 0!==t&&t.removeFromParentView()}updateItem(e,t){const i=this._itemViews.find((t=>t.data.id===e.id));void 0!==i&&(i.data=t)}_addItemView(e){const t=this._itemViews,i=this._itemViewClass;if(void 0===i)throw new Error("A class must be registered prior to item view instanciation");const n=new i(e);n.listView=this,this._onItemViewCreated(n),n.addEventListener(K.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,this._onItemViewSelected.bind(this)),t.push(n),this.addView(n)}_onItemViewCreated(e){const t=new u(J.ITEM_VIEW_CREATED_NOTIFICATION_TYPE,e);this.notifyAll(t)}_onItemViewSelected(e){const t=e.data,i=new u(K.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,t);this.notifyAll(i)}}class Z{get id(){return this._id}get createdAt(){return this._createdAt}get updatedAt(){return this._updatedAt}constructor(e,t,i){this._id=e,this._createdAt=t,this._updatedAt=i}matches(e){return!0}}class ee extends Z{constructor(e,t,i,n,s,r){super(e,t,i),this._text=n,this._name=s,this._isForeign=r}get text(){return this._text}get name(){return this._name}get isForeign(){return this._isForeign}}class te extends X{constructor(e){super(),this._containerId=e,(async()=>{await this.updateMessages()})()}async updateMessages(){const e=this.containerId,t=h.sharedInstance.client,i=new d(t,l.DATABASE_SHARED_ID),n=new c(t),r=g.sharedInstance.user.$id,o=await n.getMemberships(e),a=await i.listDocuments(l.DATABASE_SHARED_COLLECTION_MESSAGES_ID,[s.equal("team",e)]);this.messages=a.documents.map((e=>{let t="";const i=o.memberships.find((t=>t.userId===e.author));void 0!==i&&(t=i.userName);const n=e.author!==r;return new ee(e.$id,e.$createdAt,e.$updatedAt,e.text,t,n)}))}get containerId(){return this._containerId}get listView(){return this._listView}set messages(e){this.listView.items=e}get messages(){return this.listView.items}get textField(){return this._textField}get text(){return this.textField.text}set text(e){this.textField.text=e}get button(){return this._button}_createListView(){const e=new J(Q);return e.padding=y.all("10px"),this._listView=e,e}_createActionView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.center,R.CrossAxisAlignment.center,V.all("5px"));e.backgroundColor=f.lightGrey,e.padding=y.all("10px"),e.borders=S.top(new b(f.darkGreen,"1px"));const t=this._createTextField();e.addView(t),this._textField=t;const i=this._createButton();return e.addView(i),this._button=i,e}_createTextField(){const e=new B;return e.backgroundColor=f.white,e.corners=E.all(new x("10px")),e.fontFamily=B.FontFamily.sansSerif,e.grow="1",e.fontSize="15px",e.padding=y.axes("10px","3px"),e.placeholder="Nachricht",e.borders=S.all(new b(f.darkGreen,"2px")),e.addEventListener(B.TEXT_FIELD_CHANGE_NOTIFICATION_TYPE,this._onTextChange.bind(this)),e.addEventListener(B.TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE,this._onTextChange.bind(this)),e.addEventListener(B.TEXT_FIELD_PASTE_NOTIFICATION_TYPE,this._onTextChange.bind(this)),e.addEventListener(B.TEXT_FIELD_INPUT_NOTIFICATION_TYPE,this._onTextChange.bind(this)),e}_onTextChange(e){this.button.isDisabled=this.text.length<1}_onItemViewCreated(e){const t=e.data;this.messages.length%2==0&&(t.backgroundColor=new f(245,245,245))}_onItemViewClicked(e){const t=e.data;console.log(t)}_createButton(){const e=new j;return e.borders=S.all(new b(f.green,"2px")),e.backgroundColor=f.darkGreen,e.color=f.white,e.fontSize="15px",e.isDisabled=!0,e.padding=y.axes("10px","3px"),e.text="senden",e.corners=E.all(new x("10px")),e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onSubmit.bind(this)),e}async _onSubmit(e){const t=this.text;if(t.length<1)return;const i=this.containerId,n=h.sharedInstance.client,s=new d(n,l.DATABASE_SHARED_ID),r=g.sharedInstance.user.$id;await s.createDocument(l.DATABASE_SHARED_COLLECTION_MESSAGES_ID,"unique()",{text:t,team:i,author:r}),this.textField.clear(),await this.updateMessages()}_createContentView(){const e=super._createContentView();e.overflow=O.Overflow.hidden,e.mainAxisAlignment=R.MainAxisAlignment.spaceBetween,e.grow="1";const t=this._createListView();e.addView(t);const i=this._createActionView();return e.addView(i),e}}class ie extends p{static get RESOURCE_DID_UPDATE(){return"update"}static get RESOURCE_DID_DELETE(){return"delete"}static get RESOURCE_DID_CREATE(){return"create"}static get RESOURCES_DID_LOAD(){return"load"}constructor(){super(),this._observers=[],this._configure()}get observers(){return this._observers}addObserver(e){this.observers.push(e)}removeObservers(){this.observers.forEach((e=>e()))}_configure(){}synchronize(e){this.loadResources(e).then((t=>{this._didLoadResources(t),this.observe(e)}),(e=>{throw e}))}invalidate(){this.removeObservers()}async loadResources(e){return[]}observe(e){}_didLoadResources(e){this._emitEvent(ie.RESOURCES_DID_LOAD,e)}_didCreate(e){console.log("created: "),console.log(e),this._emitEvent(ie.RESOURCE_DID_CREATE,e)}_didUpdate(e){console.log("updated: "),console.log(e),this._emitEvent(ie.RESOURCE_DID_UPDATE,e)}_didDelete(e){console.log("deleted: "),console.log(e),this._emitEvent(ie.RESOURCE_DID_DELETE,e)}update(e,t){}delete(e){}create(e){}_emitEvent(e,t){const i=new u(e,t);this.notifyAll(i)}}class ne extends ie{static get NamingScheme(){return Object.freeze({full:"full",short:"short"})}static get TeamType(){return Object.freeze({chat:"chat",group:"group"})}constructor(e=ne.NamingScheme.short){super(),this._namingScheme=e}get namingScheme(){return this._namingScheme}_configure(){const e=h.sharedInstance.client;this._api=new c(e)}get api(){return this._api}async loadResources(e){const t=(await this.api.list(e)).teams;for(const e of t)e.name=await this._prepareTeam(e);return t}async _prepareTeam(e,t=" + "){const i=this._namingScheme;if(e.name!==ne.TeamType.chat)return e.type=ne.TeamType.group,e.name;e.type=ne.TeamType.chat;const n=(await this.api.getMemberships(e.$id)).memberships;if(!(n.length<1))switch(i){case ne.NamingScheme.short:const e=g.sharedInstance.user.$id;if(void 0===e)return;const s=n.find((t=>t.userId!==e));if(void 0===s)return;return s.userName;case ne.NamingScheme.full:return n.map((e=>e.userName)).join(t);default:throw new Error(`Unsupported naming scheme: ${i}`)}}observe(e){const t=h.sharedInstance.client.subscribe("memberships",(e=>{console.log(e)}));this.addObserver(t)}async _crateGroup(e){return await this.api.create(l.UNIQUE_ID,e)}async _createChat(e){const t=this.api,i=await t.create(l.UNIQUE_ID,ne.TeamType.chat);return await t.createMembership(i.$id,e,[],l.APPLICATION_URL),i}createGroup(e){this._crateGroup(e).then(this._didCreate.bind(this),(e=>{throw e}))}createChat(e){this._createChat(e).then(this._didCreate.bind(this),(e=>{throw e}))}}class se extends D{constructor(){super(),this.fontFamily=D.FontFamily.sansSerif,this.color=f.white,this.padding=y.all("10px"),this.backgroundColor=f.darkGreen,this.corners=E.all(new x("20px")),this.fontWeight=D.FontWeight.bold,this.textAlignment=D.TextAlignment.center,this.fontSize="13px",this.minWidth="15px",this.minHeight="15px",this.maxHeight="40px",this.text="N"}_recalculateSize(){this.minWidth="19px",this.minHeight="19px"}}class re extends K{constructor(e){super(e),this.corners=E.all(new x("10px")),this.contentPadding=y.all("7px")}get infoView(){return this._infoView}get infoInset(){return this.infoView.inset}set infoInset(e){this.infoView.inset=e}get contactLabel(){return this._contactLabel}get nameLabel(){return this._nameLabel}get name(){return this.nameLabel.text}set name(e){this.nameLabel.text=e,this.contactLabel.text=e[0].toUpperCase()}get detailLabel(){return this._detailLabel}get detail(){return this.detailLabel.text}set detail(e){this.detailLabel.text=e}_createDetailLabel(){const e=new D;return e.color=f.darkGrey,e.text="Lorem ipsum dolor",e.fontSize="12px",e.fontFamily=D.FontFamily.sansSerif,e.padding=y.zero,e}_createContentView(){const e=super._createContentView(),t=new se;this._contactLabel=t,e.addView(t);const i=this._createInfoView();return this._infoView=i,e.addView(i),e}_createInfoView(){const e=new R(R.Axis.vertical),t=this._createNameLabel();this._nameLabel=t,e.addView(t);const i=this._createDetailLabel();return this._detailLabel=i,e.addView(i),e}_createNameLabel(){const e=new D;return e.text="Natalie",e.fontFamily=D.FontFamily.sansSerif,e.padding=y.zero,e}_applyData(){const e=this._data;this.name=e.name}}class oe extends re{_applyData(){const e=this._data;this.name=e.name,this.detail=e.message}}class ae extends Z{get section(){return this._section}set section(e){this._section=e}constructor(e,t,i,n){super(e,t,i),this.section=n}}class de extends ae{constructor(e,t,i,n,s,r){super(e,t,i),this._score=s,this._message=r,this._name=n}get message(){return this._message}get score(){return this._score}get name(){return this._name}}class ce extends Y{constructor(e){super(),this._containerId=e}get containerId(){return this._containerId}static get ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE(){return"finish"}static get ITEM_CONFIGURATION_CANCELLED_NOTIFICATION_TYPE(){return"cancel"}_onConfigurationFinished(){const e=new u(ce.ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE,this);this.notifyAll(e)}_onConfigurationCancelled(){const e=new u(ce.ITEM_CONFIGURATION_CANCELLED_NOTIFICATION_TYPE,this);this.notifyAll(e)}_createView(){const e=super._createView();return e.backgroundColor=f.white,e.padding=y.all("10px"),e}}class le extends K{static get CHALLENGE_ACCEPT_NOTIFICATION_TYPE(){return"accept"}static get CHALLENGE_FINISH_NOTIFICATION_TYPE(){return"finish"}static get CHALLENGE_CANCEL_NOTIFICATION_TYPE(){return"cancel"}static get ChallengeState(){return Object.freeze({assigned:"assigned",unassigned:"unassigned"})}constructor(e){super(e),this.corners=E.all(new x("10px"))}get challengeState(){return this._challengeState}set challengeState(e){this._challengeState=e,this._applyChallengeState()}get titleLabel(){return this._titleLabel}get title(){return this.titleLabel.text}set title(e){this.titleLabel.text=e}get textView(){return this._textView}get text(){return this.textView.text}set text(e){this.textView.text=e}_createView(){const e=super._createView();e.backgroundColor=new f(245,245,245);const t=this._createDividerView();e.addView(t);const i=this._createButtonContainerView();return e.addView(i),e}_createContentView(){const e=super._createContentView();e.axis=R.Axis.vertical,e.crossAxisAlignment=R.MainAxisAlignment.flexStart,e.padding=y.all("10px"),e.gap=V.all("5px");const t=this._createTitleLabel();e.addView(t),this._titleLabel=t;const i=this._createTextView();e.addView(i),this._textView=i;const n=this._createTagContainerView();return e.addView(n),this._tagContainerView=n,e}_createTitleLabel(){const e=new D;return e.fontWeight=D.FontWeight.bold,e.fontSize="15px",e.fontFamily=D.FontFamily.sansSerif,e.text="Natalie",e.color=f.black,e}_createTextView(){const e=new k;return e.fontFamily=D.FontFamily.sansSerif,e.fontSize="14px",e.padding=y.zero,e.margin=A.zero,e.color=f.darkGrey,e.text="Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy.",e}get expiryTag(){return this._expiryTag}get durationTag(){return this._durationTag}get scoreTag(){return this._scoreTag}get score(){return this.scoreTag.text}set score(e){this.scoreTag.text=e}get duration(){return this.durationTag.text}set duration(e){this.durationTag.text=e}get expiry(){return this.expiryTag.text}set expiry(e){this.expiryTag.text=e}_createTagContainerView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.center,V.all("5px"));e.margin=A.top("15px");const t=this._createDurationTag();this._durationTag=t,e.addView(t);const i=this._createScoreTag();this._scoreTag=i,e.addView(i);const n=this._createExpiryTag();return this._expiryTag=n,e.addView(n),e}_createTag(e){const t=new D;return t.corners=E.all(new x("12px")),t.padding=y.axes("20px","2px"),t.fontSize="10px",t.fontFamily=D.FontFamily.sansSerif,t.text=e,t.color=f.white,t}_createDurationTag(){const e=this._createTag();return e.backgroundColor=f.orange,e}_createScoreTag(){const e=this._createTag();return e.backgroundColor=f.green,e}_createExpiryTag(){const e=this._createTag();return e.backgroundColor=f.red,e.isHidden=!0,e}get acceptButton(){return this._acceptButton}get finishButton(){return this._finishButton}get cancelButton(){return this._cancelButton}_createButtonContainerView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceAround,R.CrossAxisAlignment.center,V.all("20px"));e.padding=y.axes("30px","10px");const t=this._createAcceptButton(),i=this._createAcceptIcon();t.addView(i),e.addView(t),this._acceptButton=t;const n=this._createFinishButton(),s=this._createFinishIcon();n.addView(s),e.addView(n),this._finishButton=n;const r=this._createCancelButton(),o=this._createCancelIcon();return r.addView(o),e.addView(r),this._cancelButton=r,e}_createButton(){const e=new j;return e.borders=S.all(new b(f.darkGrey)),e.padding=y.zero,e.corners=E.all(new x("100%")),e}_createAcceptButton(){const e=this._createButton();return e.backgroundColor=f.transparent,e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onAccept.bind(this)),e}_createFinishButton(){const e=this._createButton();return e.backgroundColor=f.transparent,e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onFinish.bind(this)),e}_createCancelButton(){const e=this._createButton();return e.backgroundColor=f.transparent,e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onCancel.bind(this)),e}_createAcceptIcon(){const e=new M;return e.classList.add("fa-solid","fa-circle-arrow-left"),e.color=f.darkBlue,e.fontSize="25px",e}_createFinishIcon(){const e=new M;return e.classList.add("fa-solid","fa-circle-check"),e.color=f.green,e.fontSize="25px",e}_createCancelIcon(){const e=new M;return e.classList.add("fa-solid","fa-circle-xmark"),e.color=f.red,e.fontSize="25px",e}_createDividerView(){const e=new H;return e.width="2px",e.corners=E.all(new x("1px")),e.backgroundColor=f.darkGrey,e.margin=A.vertical("25px"),e}_applyChallengeState(){const e=this.challengeState;switch(e){case le.ChallengeState.assigned:this.acceptButton.isHidden=!0,this.cancelButton.isHidden=!1,this.finishButton.isHidden=!1,this.expiryTag.isHidden=!1;break;case le.ChallengeState.unassigned:this.acceptButton.isHidden=!1,this.cancelButton.isHidden=!0,this.finishButton.isHidden=!0,this.expiryTag.isHidden=!0;break;default:throw new Error(`Unsupported challenge state: ${e}`)}}_onAccept(){const e=new u(le.CHALLENGE_ACCEPT_NOTIFICATION_TYPE,this);this.notifyAll(e)}_onFinish(){const e=new u(le.CHALLENGE_FINISH_NOTIFICATION_TYPE,this);this.notifyAll(e)}_onCancel(){const e=new u(le.CHALLENGE_CANCEL_NOTIFICATION_TYPE,this);this.notifyAll(e)}_applyData(){const e=this.data;this.title=e.title,this.text=e.description,this.duration=this._formatDuration(e.duration);const t=void 0!==e.timestamp;this.score=e.score,this.challengeState=t?le.ChallengeState.assigned:le.ChallengeState.unassigned;let i=e.timestamp+e.duration;!0===t&&(this.expiry=this._calculateRemainingTime(i))}_formatDuration(e){let t;switch(e){case 3600:t="1 Std";break;case 43200:t="12 Std";break;case 86400:t="1 Tag";break;case 259200:t="3 Tage";break;case 604800:t="1 Woche";break;case 2628e3:t="1 Monat"}return t}_calculateRemainingTime(e){let t=(new Date(1e3*e)-new Date)/6e4,i=t%60,n=Math.trunc(i),s=Math.trunc(60*Math.trunc(i%1*100)/100),r=Math.trunc(t/60);return t<0?"abgelaufen":(i<10&&(n="0"+n),s<10&&(s="0"+s),this._formatRemainingTime(0,r,n,s))}_formatRemainingTime(e,t,i,n){let s;return t>24?(e=Math.trunc(t/24),t%=24,s=e+" d"):e<1&&t>1?s=t+" h":t<1&&(s=i+" m : "+n+" s"),s}}class he extends X{constructor(e){super(),this.itemViewClass=e}_createContentView(){const e=super._createContentView();e.overflow=O.Overflow.hidden;const t=this._createListView();return e.addView(t),e}get listView(){return this._listView}set items(e){this.listView.items=e}get items(){return this.listView.items}set itemViewClass(e){this.listView.itemViewClass=e}get itemViewClass(){return this.listView.itemViewClass}_createListView(){const e=new J;return e.padding=y.all("10px"),e.addEventListener(J.ITEM_VIEW_CREATED_NOTIFICATION_TYPE,this._onItemViewCreated.bind(this)),e.addEventListener(re.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,this._onItemViewClicked.bind(this)),e.corners=E.bottom(new x("15px")),this._listView=e,e}_onItemViewCreated(e){const t=e.data;this.items.length%2==0&&(t.backgroundColor=new f(245,245,245))}_onItemViewClicked(e){const t=e.data;console.log(t)}}class ue extends Z{get header(){return this._header}set header(e){this._header=e}get items(){return this._items}set items(e){e.forEach((e=>e.section=this)),this._items=e}addItem(e){e.section=this,this.items.push(e)}get isEmpty(){return this.items.length<1}constructor(e,t,i,n,s){super(e,t,i),this.items=n,this.header=s}matches(e){return this.items.some((t=>!0===t.matches(e)))}}class pe extends J{constructor(e,t){super(t),this.headerViewClass=e,this.overflow=pe.Overflow.visible}get listView(){return this._listView}set listView(e){this._listView=e}get section(){return this._section}set section(e){this._section=e,this.header=e.header,this.items=e.items}get header(){return this._header}set header(e){this._header=e;const t=this.headerView;void 0!==t&&t.removeFromParentView(),this._addHeaderView()}set headerViewClass(e){if(void 0!==this.headerViewClass)throw new Error("Cannot register multiple header view classes");this._headerViewClass=e}get headerViewClass(){return this._headerViewClass}get sectionHeaderView(){return this._sectionHeaderView}_addHeaderView(){const e=this._headerViewClass;if(void 0===e)throw new Error("A class must be registered prior to header view instanciation");const t=new e(this.header);this._headerView=t;const i=this._itemViews;i.length<1?this.addView(t):this.addViewBefore(t,i[0])}}class ge extends J{static get SECTION_VIEW_CREATED_NOTIFICATION_TYPE(){return"sectionViewCreated"}set headerViewClass(e){if(void 0!==this.headerViewClass)throw new Error("Cannot register multiple header view classes");this._headerViewClass=e}get headerViewClass(){return this._headerViewClass}constructor(e,t){super(e),this._sectionViews=[],this.headerViewClass=t}get sectionInset(){const e=this._sectionViews;if(!(e.length<1))return e[0].gap}set sectionInset(e){this._sectionViews.forEach((t=>t.gap=e))}get sections(){return this._sectionViews.map((e=>e.section))}set sections(e){this._sectionViews.forEach((e=>e.removeFromParentView())),this._sectionViews=[],e.forEach((e=>this._addSectionView(e)))}get items(){return this.sections.map((e=>e.items)).flat()}set items(e){this.sections=[],e.forEach((e=>this._addItemView(e)))}addSection(e){this._addSectionView(e)}_addSectionView(e){const t=this._sectionViews,i=this._headerViewClass;if(void 0===i)throw new Error("A class must be registered prior to header view instanciation");const n=this._itemViewClass;if(void 0===n)throw new Error("A class must be registered prior to item view instanciation");const s=new pe(i,n);s.listView=this,this._onSectionViewCreated(s),s.addEventListener(J.ITEM_VIEW_CREATED_NOTIFICATION_TYPE,this._onSectionItemViewCreated.bind(this)),s.addEventListener(K.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,this._onItemViewSelected.bind(this)),s.section=e,t.push(s),this.addView(s)}_onSectionItemViewCreated(e){const t=e.data;this._onItemViewCreated(t)}_onSectionViewCreated(e){const t=new Event(ge.SECTION_VIEW_CREATED_NOTIFICATION_TYPE,e);this.notifyAll(t)}removeItem(e){this._sectionViews.forEach((t=>t.removeItem(e)))}updateItem(e,t){this._sectionViews.forEach((i=>i.updateItem(e,t)))}_addItemView(e){let t=this._sectionViews.find((t=>t.data===e.section));if(void 0===t){const t=new ue("default",0,0,[e]);this.addSection(t)}else t._addItemView(e)}}class _e extends he{constructor(e,t){super(e),this.headerViewClass=t}set headerViewClass(e){this.listView.headerViewClass=e}get headerViewClass(){return this.listView.headerViewClass}get sections(){return this.listView.sections}set sections(e){this.listView.sections=e}_createListView(){const e=new ge;return e.padding=y.all("10px"),e.gap=V.all("10px"),e.addEventListener(ge.ITEM_VIEW_CREATED_NOTIFICATION_TYPE,this._onItemViewCreated.bind(this)),e.addEventListener(le.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,this._onItemViewClicked.bind(this)),e.corners=E.bottom(new x("15px")),this._listView=e,e}_onItemViewCreated(e){}_onItemViewClicked(e){const t=e.data;console.log(t)}}class we extends _e{static get TEXT_CHANGE_TIMEOUT_MILLISECONDS(){return 300}constructor(e,t,i=we.ListMode.default){super(e,t),this.listMode=i}get itemCreationController(){return this._itemCreationController}showItemCreationController(e){this.hideItemCreationController();const t=this._createItemCreationController();t.addEventListener(ce.ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE,this._onItemConfigurationFinished.bind(this)),t.addEventListener(ce.ITEM_CONFIGURATION_CANCELLED_NOTIFICATION_TYPE,this._onItemConfigurationCancelled.bind(this)),t.item=e,this.listView.isHidden=!0,this.addController(t,this.contentView),this._itemCreationController=t}hideItemCreationController(){this.listView.isHidden=!1;const e=this.itemCreationController;void 0!==e&&e.removeFromParentController()}_createItemCreationController(){return new ce}static get ListMode(){return Object.freeze({default:"search",searching:"cancel"})}get listMode(){return this._listMode}set listMode(e){this._listMode=e,this._applyListMode()}get searchBar(){return this._searchBar}get searchText(){return this.searchBar.text}set searchText(e){this.searchBar.text=e}get searchPlaceholder(){return this.searchBar.placeholder}set searchBarPlaceholder(e){this.searchBar.text=e}get searchButton(){return this._searchButton}_createSearchBar(){const e=new B;return e.isHidden=!0,e.color=f.darkGreen,e.fontFamily=B.FontFamily.sansSerif,e.fontSize="12px",e.padding=y.axes("8px","3px"),e.backgroundColor=f.transparent,e.borders=S.all(new b(f.darkGreen,"2px")),e.corners=E.all(new x("7px")),e.grow="1",e.addEventListener(B.TEXT_FIELD_CHANGE_NOTIFICATION_TYPE,this._onSearchTextChange.bind(this)),e.addEventListener(B.TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE,this._onSearchTextChange.bind(this)),e.addEventListener(B.TEXT_FIELD_PASTE_NOTIFICATION_TYPE,this._onSearchTextChange.bind(this)),e.addEventListener(B.TEXT_FIELD_INPUT_NOTIFICATION_TYPE,this._onSearchTextChange.bind(this)),e}_createSearchButton(){const e=this._createHeaderButton();return e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this.toggleMode.bind(this)),e}_createAddButton(){const e=this._createHeaderButton();return e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this.showItemCreationController.bind(this)),e}_createHeaderButton(){const e=new j;return e.fontFamily=j.FontFamily.sansSerif,e.fontSize="15px",e.padding=y.axes("8px","5px"),e.backgroundColor=f.transparent,e.borders=S.all(new b(f.transparent,"2px")),e.corners=E.all(new x("5px")),e.addEventListener(j.BUTTON_MOUSE_OVER_NOTIFICATION_TYPE,this._onHeaderButtonMouseOver.bind(this)),e.addEventListener(j.BUTTON_MOUSE_OUT_NOTIFICATION_TYPE,this._onHeaderButtonMouseOut.bind(this)),e}_onHeaderButtonMouseOver(e){e.data.backgroundColor=f.lightGrey}_onHeaderButtonMouseOut(e){e.data.backgroundColor=f.transparent}get addButton(){return this._addButton}_createAddIcon(){const e=new M;return e.classList.add("fa-solid","fa-plus"),e.color=f.darkGreen,e}_createSearchIcon(){const e=new M;return e.classList.add("fa-solid"),e.color=f.darkGreen,e}_createHeaderButtonView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center,V.all("2px")),t=this._createSearchButton(),i=this._createSearchIcon();this.searchIcon=i,t.addView(i),this._searchButton=t,e.addView(t);const n=this._createAddButton(),s=this._createAddIcon();return this._addIcon=s,n.addView(s),this._addButton=n,e.addView(n),e}get headerButtonsView(){return this._headerButtonsView}_createHeaderView(){const e=super._createHeaderView(),t=this._createSearchBar();this._searchBar=t,e.addView(t);const i=this._createHeaderButtonView();return this._headerButtonsView=i,e.addView(i),e}_toggleSearchBar(e){this.headerView.views.forEach((t=>t.isHidden=e)),this.headerButtonsView.isHidden=!1,this.searchIcon.classList.toggle("fa-magnifying-glass",!e),this.searchIcon.classList.toggle("fa-close",e),this.searchBar.isHidden=!e}toggleMode(){this.listMode=this.listMode===we.ListMode.default?we.ListMode.searching:we.ListMode.default}_applyListMode(){const e=this._listMode;switch(e){case we.ListMode.default:this._toggleSearchBar(!1),this._onSearchEnd();break;case we.ListMode.searching:this._toggleSearchBar(!0),this._onSearchStart();break;default:throw new Error(`Unsupported list mode: ${e}`)}}_onSearchTextChange(){const e=this._timeout;void 0!==e&&clearTimeout(e),this._timeout=setTimeout(this._onSearchTextChangeEnd.bind(this),we.TEXT_CHANGE_TIMEOUT_MILLISECONDS)}_onSearchTextChangeEnd(){}_onSearchStart(){}_onSearchEnd(){}_onItemConfigurationFinished(e){}_onItemConfigurationCancelled(e){this.hideItemCreationController()}}class me extends K{get titleLabel(){return this._titleLabel}get title(){return this.titleLabel.text}set title(e){this.titleLabel.text=e}_createTitleLabel(){const e=new D;return e.text="Header",e.fontWeight=D.FontWeight.bold,e.fontFamily=D.FontFamily.sansSerif,e.color=f.darkGreen,e.fontSize="17px",e}_createContentView(){const e=super._createContentView(),t=this._createTitleLabel();return this._titleLabel=t,e.addView(t),e}}class fe extends me{_applyData(){this.title=this.data}}class Ie extends R{static get ENTRY_COMPLETE_NOTIFICATION_TYPE(){return"complete"}constructor(){super(R.Axis.vertical,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.stretch,V.all("5px"));const e=this._createTitleLabel();this._titleLabel=e,this.addView(e);const t=this._createContentView();this._contentView=t,this.addView(t)}get contentView(){return this._contentView}_createLeadingContainer(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center,V.all("3px")),t=this._createNameTextField();return this._nameTextField=t,e.addView(t),e}_createTrailingContainer(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center,V.all("3px")),t=this._createButton();return this._button=t,e.addView(t),e}_createContentView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center,V.all("5px"));e.backgroundColor=new f(240,240,240),e.corners=E.all(new x("10px")),e.padding=y.all("10px");const t=this._createLeadingContainer();e.addView(t);const i=this._createTrailingContainer();return e.addView(i),e}get textInputType(){return this.nameTextField.textInputType}set textInputType(e){this.nameTextField.textInputType=e}get nameTextField(){return this._nameTextField}get name(){return this.nameTextField.text}set name(e){this.nameTextField.text=e}get placeholder(){return this.nameTextField.placeholder}set placeholder(e){this.nameTextField.placeholder=e}get titleLabel(){return this._titleLabel}get title(){return this.titleLabel.text}set title(e){this.titleLabel.text=e}get button(){return this._button}get hint(){return this.button.text}set hint(e){this.button.text=e}_createTitleLabel(){const e=new D;return e.text="Header",e.fontWeight=D.FontWeight.bold,e.fontFamily=D.FontFamily.sansSerif,e.color=f.darkGreen,e.fontSize="17px",e}_createButton(){const e=new j;return e.color=f.darkGreen,e.fontFamily=j.FontFamily.sansSerif,e.fontSize="13px",e.padding=y.axes("8px","3px"),e.backgroundColor=f.transparent,e.borders=S.all(new b(f.darkGreen,"2px")),e.corners=E.all(new x("10px")),e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onButtonClicked.bind(this)),e}_createConfirmIcon(){const e=new M;return e.classList.add("fa-solid","fa-check"),e.color=f.darkGreen,e}_onNameChange(e){}_onButtonClicked(){const e=new u(Ie.ENTRY_COMPLETE_NOTIFICATION_TYPE,this);this.notifyAll(e)}_createNameTextField(){const e=new B;return e.fontFamily=B.FontFamily.sansSerif,e.padding=y.axes("5px","5px"),e.placeholder="Name",e.backgroundColor=f.transparent,e.fontSize="15px",e.borders=S.all(b.none),e.addEventListener(B.TEXT_FIELD_CHANGE_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e.addEventListener(B.TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e.addEventListener(B.TEXT_FIELD_PASTE_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e.addEventListener(B.TEXT_FIELD_INPUT_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e}}class Te extends Ie{get contactLabel(){return this._contactLabel}set name(e){super.name=e,this.contactLabel.text=e[0].toUpperCase()}get name(){return super.name}_onNameChange(e){const t=this.name;let i="";t.length>0&&(i=t[0].toUpperCase()),this.contactLabel.text=i}_createLeadingContainer(){const e=super._createLeadingContainer(),t=new se;return this._contactLabel=t,e.addViewBefore(t,this._nameTextField),e}}class ve extends ce{get cancelButton(){return this._cancelButton}get friendView(){return this._friendView}_createView(){const e=super._createView();e.gap=V.all("10px"),e.overflow=O.Overflow.hidden;const t=this._createFriendView();this._friendView=t,e.addView(t);const i=this._createCancelButton();return e.addView(i),this._cancelButton=i,e}_createCancelButton(){const e=new j;return e.borders=S.all(new b(f.green,"2px")),e.backgroundColor=f.darkGreen,e.color=f.white,e.fontSize="13px",e.padding=y.all("5px"),e.text="cancel",e.corners=E.all(new x("10px")),e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onConfigurationCancelled.bind(this)),e}_createFriendView(){const e=new Te;return e.title="Freund hinzufgen",e.hint="hinzufgen",e.placeholder="E-Mail",e.textInputType=B.TextInputType.email,e.addEventListener(Te.ENTRY_COMPLETE_NOTIFICATION_TYPE,this._onFriendSubmit.bind(this)),e}_onFriendSubmit(e){const t=e.data.name;(async()=>{const e=h.sharedInstance.client,i=new c(e),n=await i.createMembership(this.containerId,t,[],l.APPLICATION_URL);console.log(n),this._onConfigurationFinished(this)})()}}class Ee extends ve{get groupView(){return this._groupView}_createView(){const e=super._createView(),t=this._createGroupView();return this._groupView=t,e.addViewBefore(t,this.friendView),e}_createGroupView(){const e=new Te;return e.title="Gruppe erstellen",e.hint="erstellen",e.placeholder="Gruppenname",e.addEventListener(Te.ENTRY_COMPLETE_NOTIFICATION_TYPE,this._onGroupSubmit.bind(this)),e}_onGroupSubmit(e){const t=e.data.name;(async()=>{const e=h.sharedInstance.client,i=new c(e),n=await i.create("unique()",t);console.log(n),this._onConfigurationFinished(this)})()}_onFriendSubmit(e){const t=e.data.name;(async()=>{const e=h.sharedInstance.client,i=new c(e),n=await i.create("unique()","chat"),s=await i.createMembership(n.$id,t,[],l.APPLICATION_URL);console.log(s),this._onConfigurationFinished(this)})()}}class xe extends we{constructor(e=xe.ListMode.default){super(oe,fe,e),this._teamManager=this._createTeamManager(),(async()=>{await this.updateSections()})()}get teamManager(){return this._teamManager}_createItemCreationController(){const e=new Ee;return e.addEventListener(Ee.ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE,this._didFinishConfiguration.bind(this)),e}_didFinishConfiguration(e){this.hideItemCreationController(),(async()=>{await this.updateSections()})()}_createTeamManager(){return new ne}async updateSections(e){const t=h.sharedInstance.client,i=new c(t),n=await i.list(e),s=new ue("groups",0,0,[],"Gruppen"),r=new ue("friends",0,0,[],"Freunde"),o=g.sharedInstance.user.$id;for(const e of n.teams)if("chat"===e.name){const t=(await i.getMemberships(e.$id)).memberships.find((e=>e.userId!==o));if(void 0===t)continue;r.addItem(new de(e.$id,e.$createdAt,e.$updatedAt,t.userName,0,"test"))}else s.addItem(new de(e.$id,e.$createdAt,e.$updatedAt,e.name,0,"test"));this.sections=[s,r].filter((e=>!1===e.isEmpty))}_onItemViewCreated(e){e.data.backgroundColor=new f(245,245,245)}_onItemViewClicked(e){this.notifyAll(e)}_onSearchTextChangeEnd(){const e=this.searchText;let t=e;e.length<1&&(t=void 0),console.log("ended"),(async()=>{await this.updateSections(t)})()}_onSearchStart(){this.searchBar.focus()}_onSearchEnd(){this.searchBar.clear(),(async()=>{await this.updateSections()})()}}class be extends Ie{constructor(){super()}get descriptionTextArea(){return this._descriptionTextArea}get description(){return this.descriptionTextArea.text}set description(e){this.descriptionTextArea.text=e}get tagContainerView(){return this._tagContainerView}_createContentView(){const e=super._createContentView();return e.crossAxisAlignment=R.CrossAxisAlignment.flexEnd,e}_createLeadingContainer(){const e=super._createLeadingContainer();e.axis=R.Axis.vertical,e.mainAxisAlignment=R.MainAxisAlignment.center,e.crossAxisAlignment=R.CrossAxisAlignment.stretch,e.grow="1",e.gap=V.all("2px");const t=this._createDescriptionTextArea();this._descriptionTextArea=t,e.addView(t);const i=this._createTagContainerView();return e.addView(i),this._tagContainerView=i,e}_createDescriptionTextArea(){const e=new P;return e.fontFamily=P.FontFamily.sansSerif,e.resize=P.Resize.vertical,e.padding=y.axes("5px","5px"),e.placeholder="Beschreibung",e.backgroundColor=f.transparent,e.fontSize="15px",e.minHeight="50px",e.maxHeight="300px",e.borders=S.all(b.none),e.addEventListener(P.TEXT_FIELD_CHANGE_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e.addEventListener(P.TEXT_FIELD_KEYPRESS_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e.addEventListener(P.TEXT_FIELD_PASTE_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e.addEventListener(P.TEXT_FIELD_INPUT_NOTIFICATION_TYPE,this._onNameChange.bind(this)),e}get durationSelect(){return this._durationSelect}get scoreSelect(){return this._scoreSelect}get duration(){const e=this.durationSelect.selectedOption;if(void 0!==e)return Number(e.value)}get score(){const e=this.scoreSelect.selectedOption;if(void 0!==e)return Number(e.value)}_createTagContainerView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.center,V.all("5px"));e.margin=A.top("10px");const t=this._createDurationSelect();this._durationSelect=t,e.addView(t);const i=this._createScoreSelect();return this._scoreSelect=i,e.addView(i),e}_createDurationSelect(){const e=new z;return e.options.add(new Option("1 Std","3600")),e.options.add(new Option("12 Std","43200")),e.options.add(new Option("1 Tag","86400")),e.options.add(new Option("3 Tage","259200")),e.options.add(new Option("1 Woche","604800")),e.options.add(new Option("1 Monat","2628000")),e.backgroundColor=f.orange,e}_createScoreSelect(){const e=new z;return e.options.add(new Option("10 Punkte","10")),e.options.add(new Option("20 Punkte","20")),e.options.add(new Option("50 Punkte","50")),e.options.add(new Option("100 Punkte","100")),e.options.add(new Option("250 Punkte","250")),e.options.add(new Option("500 Punkte","500")),e.options.add(new Option("1000 Punkte","1000")),e.backgroundColor=f.darkGreen,e}}class Ce extends ce{get cancelButton(){return this._cancelButton}get challengeView(){return this._challengeView}_createView(){const e=super._createView();e.gap=V.all("10px"),e.overflow=O.Overflow.hidden;const t=this._createChallengeView();this._challengeView=t,e.addView(t);const i=this._createCancelButton();return e.addView(i),this._cancelButton=i,e}_createCancelButton(){const e=new j;return e.borders=S.all(new b(f.green,"2px")),e.backgroundColor=f.darkGreen,e.color=f.white,e.fontSize="15px",e.padding=y.axes("10px","3px"),e.text="cancel",e.corners=E.all(new x("10px")),e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onConfigurationCancelled.bind(this)),e}_createChallengeView(){const e=new be;return e.title="Challenge erstellen",e.hint="erstellen",e.placeholder="Titel",e.addEventListener(be.ENTRY_COMPLETE_NOTIFICATION_TYPE,this._onChallengeSubmit.bind(this)),e}_onChallengeSubmit(e){const t=e.data,i=t.duration,n=t.score,s=t.name,r=t.description;(async()=>{await this._createChallenge(i,n,s,r),this._onConfigurationFinished()})()}async _createChallenge(e,t,i,n){const s=h.sharedInstance.client,r=new d(s,l.DATABASE_SHARED_ID),o=this.containerId;await r.createDocument(l.DATABASE_SHARED_COLLECTION_CHALLENGES_ID,"unique()",{title:i,description:n,score:t,author:o,origin:o,duration:e})}}class Ae extends ae{constructor(e,t,i,n,s,r,o,a,d,c){super(e,t,i),this._title=n,this._description=s,this._duration=r,this._score=o,this._origin=a,this._author=d,this._timestamp=c}get timestamp(){return this._timestamp}get title(){return this._title}get description(){return this._description}get duration(){return this._duration}get score(){return this._score}get origin(){return this._origin}get author(){return this._author}}class ye extends we{constructor(e=ye.ListMode.default){super(le,fe,e),(async()=>{await this.updateSections()})()}_createItemCreationController(){const e=new Ce(g.sharedInstance.user.$id);return e.addEventListener(Ce.ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE,this._didFinishConfiguration.bind(this)),e}_didFinishConfiguration(e){this.hideItemCreationController(),(async()=>{await this.updateSections()})()}async updateSections(e){const t=h.sharedInstance.client,i=new d(t,l.DATABASE_SHARED_ID),n=g.sharedInstance.user.$id,r=new c(t),o=(await r.list()).teams;for(const e of o)if("chat"===e.name){const t=(await r.getMemberships(e.$id)).memberships.find((e=>e.userId!==n));void 0!==t&&(e.name=t.userName)}const a=o.map((e=>new ue(e.$id,e.$createdAt,e.$updatedAt,[],e.name)));a.push(new ue(n,0,Number.MAX_SAFE_INTEGER,[],"Aktiv"));const u=await i.listDocuments(l.DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID,[s.equal("assignee",a.map((e=>e.id)))]),p=new ue("unassigned",0,Number.MIN_SAFE_INTEGER,[],"Verfgbar");a.push(p);const _=void 0===e||e.length<1?[]:[s.search("title",e)];(await i.listDocuments(l.DATABASE_SHARED_COLLECTION_CHALLENGES_ID,_)).documents.map((e=>{const t=u.documents.find((t=>t.challenge===e.$id));if(void 0!==t){const i=a.find((e=>e.id===t.assignee));if(void 0===i)throw new Error("Failed to match section");i.addItem(new Ae(e.$id,e.$createdAt,e.$updatedAt,e.title,e.description,e.duration,e.score,e.origin,e.author,t.$createdAt))}else p.addItem(new Ae(e.$id,e.$createdAt,e.$updatedAt,e.title,e.description,e.duration,e.score,e.origin,e.author))})),this.sections=a.filter((e=>!1===e.isEmpty)).sort(((e,t)=>e.updatedAt<t.updatedAt))}_onItemViewCreated(e){const t=e.data;t.addEventListener(le.CHALLENGE_ACCEPT_NOTIFICATION_TYPE,this._onChallengeViewAccepted.bind(this)),t.addEventListener(le.CHALLENGE_FINISH_NOTIFICATION_TYPE,this._onChallengeViewFinished.bind(this)),t.addEventListener(le.CHALLENGE_CANCEL_NOTIFICATION_TYPE,this._onChallengeViewCancelled.bind(this))}_onChallengeViewAccepted(e){const t=e.data.data.id,i=h.sharedInstance.client,n=new d(i,l.DATABASE_SHARED_ID),s=g.sharedInstance.user.$id;(async()=>{const e=await n.createDocument(l.DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID,"unique()",{challenge:t,assignee:s});await this.updateSections(),console.log(e)})()}_onChallengeViewFinished(e){const t=e.data.data,i=t.section.id;(async()=>{await this.removeChallengeAssignment(t.id,i),await this.updateScore(i,t.score),await this.updateSections()})()}_onChallengeViewCancelled(e){const t=e.data.data,i=t.section.id;(async()=>{await this.removeChallengeAssignment(t.id,i),await this.updateScore(i,-1*t.score),await this.updateSections()})()}async updateScore(e,t){const i=h.sharedInstance.client,n=new d(i,l.DATABASE_SHARED_ID),r=(await n.listDocuments(l.DATABASE_SHARED_COLLECTION_PREVIEW_ID,[s.equal("$id",e)])).documents;if(r.length>0){const i=await n.updateDocument(l.DATABASE_SHARED_COLLECTION_PREVIEW_ID,e,{score:Math.max(r[0].score+t,0)});console.log(i)}else{const i=await n.createDocument(l.DATABASE_SHARED_COLLECTION_PREVIEW_ID,e,{score:Math.max(t,0)});console.log(i)}}async removeChallengeAssignment(e,t){const i=h.sharedInstance.client,n=new d(i,l.DATABASE_SHARED_ID),r=await n.listDocuments(l.DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID,[s.equal("challenge",e),s.equal("assignee",t)]);if(r.documents.length>0){const e=r.documents[0],t=await n.deleteDocument(l.DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID,e.$id);console.log(t)}}_onSearchTextChangeEnd(){const e=this.searchText;let t=e;e.length<1&&(t=void 0),(async()=>{await this.updateSections(t)})()}_onSearchStart(){this.searchBar.focus()}_onSearchEnd(){this.searchBar.clear(),(async()=>{await this.updateSections()})()}}class Se extends we{get teamId(){return this._teamId}constructor(e,t=Se.ListMode.default){super(oe,fe,t),this._teamId=e,(async()=>{await this.updateSections()})()}_createItemCreationController(){const e=new ve;return e.addEventListener(BGTeamCreationController.ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE,this._didFinishConfiguration.bind(this)),e}_didFinishConfiguration(e){this.hideItemCreationController(),(async()=>{await this.updateSections()})()}async updateSections(e){const t=this.teamId;if(void 0===t)return;const i=h.sharedInstance.client,n=new c(i),s=await n.getMemberships(t,e),r=new ue("members",0,0,[],""),o=g.sharedInstance.user.$id;s.memberships.forEach((e=>{if(e.userId===o)return;const t=new de(e.userId,e.$createdAt,e.$updatedAt,e.userName,0,"");r.addItem(t)})),this.sections=[r].filter((e=>!1===e.isEmpty))}_onItemViewCreated(e){const t=e.data;this.items.length,t.backgroundColor=new f(245,245,245)}_onItemViewClicked(e){e.data.data}_onSearchTextChangeEnd(){const e=this.searchText;let t=e;e.length<1&&(t=void 0),console.log("ended"),(async()=>{await this.updateSections(t)})()}_onSearchStart(){this.searchBar.focus()}_onSearchEnd(){this.searchBar.clear(),(async()=>{await this.updateSections()})()}_onItemConfigurationFinished(e){this.hideItemCreationController()}}class Oe extends ye{constructor(e,t=ye.ListMode.default){super(t),this._containerId=e,(async()=>{await this.updateSections()})()}_createItemCreationController(){const e=new Ce(this.containerId);return e.addEventListener(Ce.ITEM_CONFIGURATION_FINISHED_NOTIFICATION_TYPE,this._didFinishConfiguration.bind(this)),e}_didFinishConfiguration(e){this.hideItemCreationController(),(async()=>{await this.updateSections()})()}get containerId(){return this._containerId}async updateSections(e){const t=this.containerId;if(void 0===t)return;const i=h.sharedInstance.client,n=new d(i,l.DATABASE_SHARED_ID),r=new ue("unassigned",0,Number.MIN_SAFE_INTEGER,[],"Verfgbar"),o=[new ue(t,0,Number.MAX_SAFE_INTEGER,[],"Aktiv"),r],a=await n.listDocuments(l.DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID,[s.equal("assignee",t)]),c=void 0===e||e.length<1?[]:[s.search("title",e)];(await n.listDocuments(l.DATABASE_SHARED_COLLECTION_CHALLENGES_ID,c)).documents.map((e=>{const t=a.documents.find((t=>t.challenge===e.$id));if(void 0!==t){const i=o.find((e=>e.id===t.assignee));if(void 0===i)throw new Error("Failed to match section");i.addItem(new Ae(e.$id,e.$createdAt,e.$updatedAt,e.title,e.description,e.duration,e.score,e.origin,e.author,t.$createdAt))}else r.addItem(new Ae(e.$id,e.$createdAt,e.$updatedAt,e.title,e.description,e.duration,e.score,e.origin,e.author))})),this.sections=o.filter((e=>!1===e.isEmpty)).sort(((e,t)=>e.updatedAt<t.updatedAt))}_onChallengeViewAccepted(e){const t=e.data.data.id,i=h.sharedInstance.client,n=new d(i,l.DATABASE_SHARED_ID);(async()=>{const e=await n.createDocument(l.DATABASE_SHARED_COLLECTION_ASSIGNMENTS_ID,"unique()",{challenge:t,assignee:this.containerId});console.log(e),await this.updateSections()})()}}class Le extends Z{constructor(e,t,i,n,s){super(e,t,i),this._name=n,this._score=s}get name(){return this._name}get score(){return this._score}}class Ne extends re{_applyData(){const e=this._data;this.name=e.name,this.detail=e.score}}class Ve extends _e{get aliases(){return["Anonymer Hase","Anonymer Hund","Anonyme Katze","Anonymer Krebs","Anonymer Vogel","Anonymer Apfel"]}constructor(){super(Ne,fe),(async()=>{await this.updateSections()})()}async updateSections(e){const t=h.sharedInstance.client,i=new d(t,l.DATABASE_SHARED_ID),n=g.sharedInstance.user.$id,r=g.sharedInstance.user.name,o=new c(t),a=(await o.list()).teams;for(const e of a)if("chat"===e.name){const t=await o.getMemberships(e.$id);e.name=t.memberships.map((e=>e.userName)).join(" + ")}a.push({$id:n,name:r});const u=new ue("ranked",0,0,[],"Top 3"),p=new ue("personal",0,0,[],"Platzierung"),_=[u,p];(await i.listDocuments(l.DATABASE_SHARED_COLLECTION_PREVIEW_ID,[],3,0,"","after",["score"],["DESC"])).documents.forEach((e=>{const t=e.$id,i=a.find((e=>e.$id===t));let n="";if(void 0===i){const e=this.aliases;n=e[t.charCodeAt(t.length-1)%e.length]}else n=i.name;u.addItem(new Le(t,e.$createdAt,e.$updatedAt,n,e.score))}));let w=u.items.find((e=>e.id===n));if(void 0===w){const e=(await i.listDocuments(l.DATABASE_SHARED_COLLECTION_PREVIEW_ID,[s.equal("$id",n)])).documents;if(e.length>0){const t=e[0];w=new Le(t.$id,t.$createdAt,t.$updatedAt,r,t.score)}}void 0!==w&&p.addItem(w),this.sections=_.filter((e=>!1===e.isEmpty))}_onItemViewCreated(e){const t=e.data,i=t.data,n=i.section.items.indexOf(i);t.backgroundColor=n%2==0?new f(245,245,245):f.transparent}}class Fe extends q{static get Mode(){return Object.freeze({start:"start",detail:"detail"})}get mode(){return this._mode}set mode(e){this._mode=e}_createIconButton(){const e=super._createIconButton();return e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._onIconButtonPressed.bind(this)),e.addEventListener(j.BUTTON_MOUSE_OVER_NOTIFICATION_TYPE,this._onIconButtonMouseOver.bind(this)),e.addEventListener(j.BUTTON_MOUSE_OUT_NOTIFICATION_TYPE,this._onIconButtonMouseOut.bind(this)),e}_onIconButtonMouseOver(e){this.mode===Fe.Mode.start&&this._addLogoutIcon()}_onIconButtonMouseOut(e){this.mode===Fe.Mode.start&&(this._removeLogoutIcon(),this._setIcon())}_onIconButtonPressed(e){const t=this.mode;switch(t){case Fe.Mode.start:(async()=>{await g.sharedInstance.logout()})();break;case Fe.Mode.detail:break;default:throw new Error(`Unsupported mode: ${t}`)}this.removeStackedControllers()}get closeIcon(){return this._closeIcon}_addCloseIcon(){const e=this._createCloseIcon();this.iconButton.text="",this.iconButton.addView(e),this._closeIcon=e}_removeCloseIcon(){this.iconButton.text="",this._closeIcon=void 0}get logoutIcon(){return this._logoutIcon}_addLogoutIcon(){const e=this._createLogoutIcon();this.iconButton.text="",this.iconButton.addView(e),this._logoutIcon=e}_removeLogoutIcon(){this.iconButton.text="",this._logoutIcon=void 0}_createIcon(){const e=new M;return e.color=f.white,e.fontSize="17px",e}_createCloseIcon(){const e=this._createIcon();return e.classList.add("fa-solid","fa-close"),e}_createLogoutIcon(){const e=this._createIcon();return e.classList.add("fa-solid","fa-sign-out"),e.pointerEvents="none",e}_applyMode(){const e=this.mode;switch(e){case Fe.Mode.start:this.controllers.forEach((e=>e.controllers.forEach((e=>e.removeFromParentController()))));break;case Fe.Mode.group:new Se;case Fe.Mode.chat:break;default:throw new Error(`Unsupported mode: ${e}`)}}get stackedControllers(){return this._stackedControllers}removeStackedControllers(){this.mode=Fe.Mode.start,this.stackedControllers.forEach((e=>e.removeFromParentController())),this.controllers.forEach((e=>e.view.isHidden=!1)),this._removeCloseIcon(),this._setIcon(),this.title="BeGreen"}embedStackedController(e,t){this.stackedControllers.push(e),this.embedController(e,t)}constructor(e=Fe.Mode.start){super(),this.mode=e,this._stackedControllers=[],this._ensureAuthentication(),this._createControllers(),this._setIcon(),(async()=>{await this._updateScore()})()}async _updateScore(){const e=h.sharedInstance.client,t=new d(e,l.DATABASE_SHARED_ID),i=g.sharedInstance.user.$id;let n=0;const r=(await t.listDocuments(l.DATABASE_SHARED_COLLECTION_PREVIEW_ID,[s.equal("$id",i)])).documents;r.length>0&&(n=r[0].score),this.score=n}_onTeamSelected(e){this.removeStackedControllers(),this.mode=Fe.Mode.detail,this.controllers.forEach((e=>e.view.isHidden=!0));const t=e.data.data,i=t.id;this.title=t.name,this._addCloseIcon();const n=new Se(i);n.view.minWidth="350px",n.title="Mitglieder",this.embedStackedController(n,q.ControllerPosition.topLeft);const s=new Oe(i);s.title="Challenges",this.embedStackedController(s,q.ControllerPosition.right);const r=new te(i);r.title="Chat",this.embedStackedController(r,q.ControllerPosition.bottomLeft)}_onStateChange(){}_setIcon(){const e=g.sharedInstance.user;void 0!==e&&(this.iconButton.text=e.name[0].toUpperCase())}_createControllers(){const e=new xe;e.title="Kontakte",e.addEventListener(K.ITEM_VIEW_SELECTED_NOTIFICATION_TYPE,this._onTeamSelected.bind(this)),e.view.minWidth="350px",this.embedController(e,q.ControllerPosition.topLeft);const t=new ye;t.title="Challenges",this.embedController(t,q.ControllerPosition.right);const i=new Ve;i.title="Leaderboard",this.embedController(i,q.ControllerPosition.bottomLeft)}_ensureAuthentication(){const e=g.sharedInstance;!1===e.isAuthenticated&&this._presentAuthenticationController(),e.addEventListener(g.APPWRITEAUTHENTICATION_DEAUTHENTICATED_NOTIFICATION_TYPE,this._presentAuthenticationController.bind(this))}_presentAuthenticationController(){const e=new De;this.addController(e)}}const Re=i.p+"209a064a9386d2dc69c9.jpg";class De extends W{constructor(e=De.Mode.login){super(),this.mode=e}static get Mode(){return Object.freeze({login:"Anmelden",register:"Registrieren"})}get mode(){return this._mode}set mode(e){this._mode=e,this._updateMode()}get title(){return this.label.text}set title(e){this.title.text=e}get label(){return this._label}get nameTextField(){return this._nameTextField}get name(){return this.nameTextField.text}set name(e){this.nameTextField.text=e}get passwordTextField(){return this._passwordTextField}get password(){return this.passwordTextField.text}set password(e){this.passwordTextField.text=e}get mailTextField(){return this._mailTextField}get email(){return this.mailTextField.text}set email(e){this.mailTextField.text=e}get modeButton(){return this._modeButton}get modeHint(){return this.modeButton.text}set modeHint(e){this.modeButton.text=e}get submitButton(){return this._submitButton}get submitHint(){return this.submitButton.text}set submitHint(e){this.submitButton.text=e}get contentView(){return this._contentView}_createView(){const e=super._createView();e.position=O.Position.absolute,e.left="0px",e.right="0px",e.bottom="0px",e.top="0px",e.zIndex="2",e.mainAxisAlignment=R.MainAxisAlignment.center,e.crossAxisAlignment=R.CrossAxisAlignment.center,e.backgroundColor=f.darkGreen,e.backgroundSize="cover",e.backgroundImage=`url(${Re})`;const t=this._createContentView();return this._contentView=t,e.addView(t),e}_createContentView(){const e=new R(R.Axis.vertical,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.stretch);e.gap=V.all("25px"),e.width="325px";const t=this._createLabel();e.addView(t),this._label=t;const i=this._createTextFieldContainerView();e.addView(i);const n=this._createButtonContainerView();return e.addView(n),e}_createTextFieldContainerView(){const e=new R(R.Axis.vertical,R.MainAxisAlignment.flexStart,R.CrossAxisAlignment.stretch);e.gap=V.all("2px"),e.overflow=R.Overflow.hidden,e.borders=S.all(new b(f.darkGreen,"2px")),e.shadow=new v("0px","5px",new f(0,0,0,.25),"5px","3px"),e.corners=E.all(new x("10px")),e.backgroundColor=f.darkGreen;const t=this._createMailTextField();e.addView(t),this._mailTextField=t;const i=this._createNameTextField();e.addView(i),this._nameTextField=i;const n=this._createPasswordTextField();return e.addView(n),this._passwordTextField=n,e}_createButtonContainerView(){const e=new R(R.Axis.horizontal,R.MainAxisAlignment.spaceBetween,R.CrossAxisAlignment.center,V.all("10px")),t=this._createModeButton();this._modeButton=t,e.addView(t);const i=this._createSubmitButton();return this._submitButton=i,e.addView(i),e}_createLabel(){const e=new D;return e.text="BeGreen",e.fontFamily=D.FontFamily.sansSerif,e.fontWeight=D.FontWeight.bold,e.textAlignment=D.TextAlignment.center,e.fontSize="30px",e.color=f.white,e}_createNameTextField(){const e=new B;return e.fontFamily=B.FontFamily.sansSerif,e.margin=A.zero,e.fontSize="17px",e.padding=y.axes("10px","7px"),e.placeholder="name",e.borders=S.unset,e}_createPasswordTextField(){const e=new B;return e.textInputType=B.TextInputType.password,e.margin=A.zero,e.fontFamily=B.FontFamily.sansSerif,e.fontSize="17px",e.padding=y.axes("10px","7px"),e.placeholder="password",e}_createMailTextField(){const e=new B;return e.textInputType=B.TextInputType.email,e.margin=A.zero,e.fontFamily=B.FontFamily.sansSerif,e.fontSize="17px",e.padding=y.axes("10px","7px"),e.placeholder="mail",e}_createModeButton(){const e=new j;return e.text="modeButton",e.color=f.white,e.fontFamily=j.FontFamily.sansSerif,e.fontSize="15px",e.padding=y.axes("15px","5px"),e.backgroundColor=f.transparent,e.borders=S.all(b.none),e.corners=E.all(new x("10px")),e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._switchMode.bind(this)),e}_createSubmitButton(){const e=new j;return e.text="submitButton",e.color=f.darkGreen,e.fontFamily=j.FontFamily.sansSerif,e.fontSize="15px",e.padding=y.axes("15px","5px"),e.backgroundColor=f.white,e.borders=S.all(new b(f.darkGreen,"2px")),e.corners=E.all(new x("10px")),e.addEventListener(j.BUTTON_CLICK_NOTIFICATION_TYPE,this._submit.bind(this)),e}_updateMode(){switch(this.mode){case De.Mode.login:this.nameTextField.isHidden=!0,this.modeHint=De.Mode.register,this.submitHint=De.Mode.login;break;case De.Mode.register:this.nameTextField.isHidden=!1,this.modeHint=De.Mode.login,this.submitHint=De.Mode.register;break;default:throw new Error("Unsupported mode")}}_switchMode(){this.mode=this.mode===De.Mode.login?De.Mode.register:De.Mode.login}async _submit(){const e=this.contentView;e.isDisabled=!0;try{switch(this.mode){case De.Mode.login:await g.sharedInstance.login(this.email,this.password);break;case De.Mode.register:await g.sharedInstance.register(this.email,this.password,this.name);break;default:throw new Error("Unsupported mode")}this.addController(new Fe)}catch(e){console.log(e)}finally{e.isDisabled=!1}}}new De})()})();